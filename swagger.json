{
  "swagger": "2.0",
  "info": {
    "title": "MAGDA API Documentation",
    "version": "5.4.0",
    "description": "This API documentation is for the open data platform MAGDA. REST is used. Unless stated otherwise, the JSON data format is used for all request and response body."
  },
  "schemes": [
    "https"
  ],
  "host": "",
  "basePath": "%3Chost%3E/api",
  "paths": {
    "/v0/auth/opa/decision[/path...]": {
      "post": {
        "tags": [
          "Auth"
        ],
        "summary": "Get Auth Decision From OPA",
        "description": "<p>Ask OPA (<a href=\"https://www.openpolicyagent.org/\">Open Policy Agent</a>) make authorisation decision on proposed resource operation URI. The resource operation URI is supplied as part of request URL path. e.g. a request sent to URL <code>https://&lt;host&gt;/api/v0/auth/opa/decision/object/dataset/draft/read</code> indicates an authorisation decision for is sought:</p> <ul> <li>operation uri: <code>object/dataset/draft/read</code></li> <li>resource uri: <code>object/dataset/draft</code></li> </ul> <p>The <code>resource uri</code> &amp; <code>operation uri</code> info together with:</p> <ul> <li>other optional extra context data supplied</li> <li>current user profile. e.g. roles &amp; permissions</li> </ul> <p>will be used to construct the context data object <code>input</code> that will be used to assist OPA's auth decision making.</p> <p>Regardless the <code>operation uri</code> supplied, this endpoint will always ask OPA to make decision using entrypoint policy <code>entrypoint/allow.rego</code>. The <code>entrypoint/allow.rego</code> should be responsible for delegating the designated policy to make the actual auth decision for a particular type of resource.</p> <p>e.g. The default policy <code>entrypoint/allow.rego</code> will delegate policy <code>object/dataset/allow.rego</code> to make decision for operation uri: <code>object/dataset/draft/read</code>.</p> <p>Please note: you can <a href=\"https://github.com/magda-io/magda/blob/master/docs/docs/how-to-add-custom-opa-policies.md\">replace built-in policy files</a> (including <code>entrypoint/allow.rego</code>) when deploy Magda with helm config.</p> <blockquote> <p>This API endpoint is also available as a HTTP GET endpoint. You can access the same functionality via the GET endpoint except not being able to supply parameters via HTTP request body.</p> </blockquote>",
        "parameters": [
          {
            "in": "query",
            "name": "path",
            "description": "<p>The URI of the resource operation that you propose to perform. From this URI (e.g. <code>object/dataset/draft/read</code>), we can also work out resource URI(e.g. <code>object/dataset/draft</code>). Depends on policy logic, URI pattern (e.g. <code>object/dataset/*&amp;#47;read</code>) might be supported.</p> <blockquote> <p>If you request the decision for a non-exist resource type, the default policy will evaluate to <code>false</code> (denied).</p> </blockquote>",
            "required": true,
            "type": "String"
          },
          {
            "in": "query",
            "name": "operationUri",
            "description": "<p>Use to supply / overwrite the operation uri. Any parameters supplied via <code>Query String Parameters</code> have higher priority. Thus, can overwrite the same parameter supplied via <code>Request Body JSON</code>. However, <code>operationUri</code> supplied via <code>Query String Parameters</code> can't overwrite the <code>operationUri</code> supplied via <code>Request URL Path</code>.</p>",
            "required": false,
            "type": "String"
          },
          {
            "in": "query",
            "name": "resourceUri",
            "description": "<p>Use to supply / overwrite the resource uri. Please note: Magda's built-in policies don't utilise <code>resourceUri</code> as we can figure it out from <code>operationUri</code> instead. This interface is provided to facilitate users' own customised implementation only.</p>",
            "required": false,
            "type": "String"
          },
          {
            "in": "query",
            "name": "unknowns",
            "description": "<p>Use to supply A list of references that should be considered as &quot;unknown&quot; during the policy evaluation. If a conclusive/unconditional auth decision can't be made without knowing &quot;unknown&quot; data, the residual rules of the &quot;partial evaluation&quot; result will be responded in <a href=\"https://www.openpolicyagent.org/docs/latest/policy-language/\">rego</a> AST JSON format. e.g. When <code>unknowns=[&quot;input.object.dataset&quot;]</code>, any rules related to dataset's attributes will be kept and output as residual rules, unless existing context info is sufficient to make a conclusive/unconditional auth decision (e.g. admin can access all datasets the values of regardless dataset attributes).</p> <blockquote> <p>Please note: When <code>unknowns</code> is NOT supplied, this endpoint will auto-generate a JSON path that is made up of string &quot;input&quot; and the first segment of <code>operationUri</code> as the unknown reference. e.g. When <code>operationUri</code> = <code>object/dataset/draft/read</code> and <code>unknowns</code> parameter is not supplied, by default, this endpoint will set <code>unknowns</code> parameter's value to array [&quot;input.object&quot;].</p> </blockquote> <blockquote> <p>However, when extra context data is supplied as part request data at JSON path <code>input.object</code>, the <code>unknowns</code> will not be auto-set.</p> </blockquote> <blockquote> <p>If you want to force stop the endpoint from auto-generating <code>unknowns</code>, you can supply <code>unknowns</code> parameter as an empty string. Please note: When <code>unknowns</code> is set to an empty string, the request will be send to <a href=\"https://www.openpolicyagent.org/docs/latest/rest-api/#get-a-document-with-input\">&quot;full evaluation endpoint&quot;</a>, instead of <a href=\"https://www.openpolicyagent.org/docs/latest/rest-api/#compile-api\">&quot;partial evaluation endpoint&quot;</a>. You will always get definite answer from &quot;full evaluation endpoint&quot;.</p> </blockquote> <blockquote> <p>Please note: you can supply an array by a query string like <code>unknowns=ref1&amp;unknowns=ref2</code></p> </blockquote>",
            "required": false,
            "type": "array",
            "items": {
              "type": "String"
            }
          },
          {
            "in": "query",
            "name": "rawAst",
            "description": "<p>Output RAW AST response from OPA instead parsed &amp; processed result. As long as the parameter present in query string, the RAW AST option will be turned on. e.g. both <code>?rawAst</code> &amp; <code>?rawAst=true</code> will work.</p>",
            "required": false,
            "type": "string"
          },
          {
            "in": "query",
            "name": "explain",
            "description": "<p>Include OPA decision explanation in the RAW AST response from OPA. Only work when <code>rawAst</code> is on.</p>",
            "required": false,
            "type": "string"
          },
          {
            "in": "query",
            "name": "pretty",
            "description": "<p>Include human readable OPA decision explanation in the RAW AST response from OPA. Only work when <code>rawAst</code> is on &amp; <code>explain</code>=&quot;full&quot;.</p>",
            "required": false,
            "type": "string"
          },
          {
            "in": "query",
            "name": "humanReadable",
            "description": "<p>Output parsed &amp; processed result in human readable format. This option will not work when <code>rawAst</code> is on. As long as the parameter present in query string, the <code>humanReadable</code> option will be turned on. e.g. both <code>?humanReadable</code> &amp; <code>?humanReadable=true</code> will work.</p>",
            "required": false,
            "type": "string"
          },
          {
            "in": "query",
            "name": "concise",
            "description": "<p>Output parsed &amp; processed result in a concise format. This is default output format. This option will not work when <code>rawAst</code> is on. You can set <code>concise</code>=<code>false</code> to output a format more similar to original OPA AST (with more details).</p>",
            "required": false,
            "type": "string"
          },
          {
            "in": "body",
            "name": "body",
            "description": "Request body",
            "required": true,
            "schema": {
              "type": "object",
              "properties": {
                "operationUri": {
                  "type": "String",
                  "description": "<p>Same as <code>operationUri</code> in query parameter. Users can also opt to supply <code>operationUri</code> via request body instead.</p>"
                },
                "resourceUri": {
                  "type": "String",
                  "description": "<p>Same as <code>resourceUri</code> in query parameter. Users can also opt to supply <code>resourceUri</code> via request body instead.</p>"
                },
                "unknowns": {
                  "type": "String[]",
                  "description": "<p>Same as <code>unknowns</code> in query parameter. Users can also opt to supply <code>unknowns</code> via request body instead.</p>"
                },
                "input": {
                  "type": "Object",
                  "description": "<p>OPA &quot;<code>input</code> data&quot;. Use to provide extra context data to support the auth decision making. e.g. When you need to make decision on one particular dataset (rather than a group of dataset), you can supply the <code>input</code> data object as the following:</p> <pre><code class=\"language-json\">{   &quot;object&quot;: {     &quot;dataset&quot;: {       // all dataset attributes       ...     }   } } </code></pre> <blockquote> <p>Please note: It's not possible to overwrite system generated context data fields via <code>input</code> data object. e.g:</p> <ul> <li><code>input.user</code></li> <li><code>input.timestamp</code></li> </ul> </blockquote>"
                }
              }
            }
          }
        ],
        "responses": {
          "Unconditional Result Example": {
            "description": "<pre>{\n   \"hasResidualRules\" : false,\n   \"unknowns\": [],\n   \"result\": true // -- the evaluation value of the policy. By default, `true` means operation should be `allowed`.\n}<pre>"
          },
          "Partial Evaluation Result Example (Default Concise Format)": {
            "description": "<pre>\n{\n   \"hasResidualRules\":true,\n   \"residualRules\": [{\"default\":false,\"value\":true,\"fullName\":\"data.partial.object.record.allow\",\"name\":\"allow\",\"expressions\":[{\"negated\":false,\"operator\":null,\"operands\":[{\"isRef\":true,\"value\":\"input.object.dataset.dcat-dataset-strings\"}]},{\"negated\":false,\"operator\":\"=\",\"operands\":[{\"isRef\":true,\"value\":\"input.object.record.publishing.state\"},{\"isRef\":false,\"value\":\"published\"}]}]}],\n   \"unknowns\": [\"input.object.dataset\"],\n   \"hasWarns\":false\n }<pre>"
          },
          "Partial Evaluation Result Example (Raw AST)": {
            "description": "<pre>\n{\n   \"hasResidualRules\": true,\n   \"unknowns\": [\"input.object.dataset\"],\n   \"residualRules\": [{\"default\":true,\"head\":{\"name\":\"allow\",\"value\":{\"type\":\"boolean\",\"value\":false}},\"body\":[{\"terms\":{\"type\":\"boolean\",\"value\":true},\"index\":0}]},{\"head\":{\"name\":\"allow\",\"value\":{\"type\":\"boolean\",\"value\":true}},\"body\":[{\"terms\":[{\"type\":\"ref\",\"value\":[{\"type\":\"var\",\"value\":\"eq\"}]},{\"type\":\"ref\",\"value\":[{\"type\":\"var\",\"value\":\"input\"},{\"type\":\"string\",\"value\":\"object\"},{\"type\":\"string\",\"value\":\"dataset\"},{\"type\":\"string\",\"value\":\"publishingState\"}]},{\"type\":\"string\",\"value\":\"published\"}],\"index\":0}]}]\n}<pre>"
          },
          "Error Response Example / Status Code: 500/400": {
            "description": "<pre>Failed to get auth decision: xxxxxxxxx<pre>"
          }
        }
      }
    },
    "/v0/auth/users/:userId/apiKeys/:apiKeyId": {
      "delete": {
        "tags": [
          "Auth_API_Keys"
        ],
        "summary": "Delete an API Key of the user",
        "description": "<p>Delete an API Key of the user You need have <code>authObject/apiKey/delete</code> permission in order to access this API. As the default <code>Authenticated Users</code> roles contains the permission to all <code>authObject/apiKey/*</code> type operations with ownership constraint. All <code>Authenticated Users</code> (i.e. non-anonymous) users should always have access to their own API keys.</p>",
        "parameters": [
          {
            "in": "query",
            "name": "userId",
            "description": "<p>the id of the user.</p>",
            "required": true,
            "type": "string"
          },
          {
            "in": "query",
            "name": "apiKeyId",
            "description": "<p>the id of the api key.</p>",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "<pre>{\n   \"deleted\": true\n}<pre>"
          },
          "401/404/500": {
            "description": "<pre>{\n  \"isError\": true,\n  \"errorCode\": 401, //--- or 404, 500 depends on error type\n  \"errorMessage\": \"Not authorized\"\n}<pre>"
          }
        }
      },
      "get": {
        "tags": [
          "Auth_API_Keys"
        ],
        "summary": "Get an API key of a user by ID",
        "description": "<p>Get an API key record of a user by ID by API key ID. You need have <code>authObject/apiKey/read</code> permission in order to access this API. As the default <code>Authenticated Users</code> roles contains the permission to all <code>authObject/apiKey/*</code> type operations with ownership constraint. All <code>Authenticated Users</code> (i.e. non-anonymous) users should always have access to their own API keys.</p>",
        "parameters": [
          {
            "in": "query",
            "name": "userId",
            "description": "<p>the id of the user.</p>",
            "required": true,
            "type": "string"
          },
          {
            "in": "query",
            "name": "apiKeyId",
            "description": "<p>the id of the api key.</p>",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "<pre>{\n    id: \"b559889a-2843-4a60-9c6d-103d51eb4410\",\n    user_id: \"be374b6e-d428-4211-b642-b2b65abcf051\",\n    created_timestamp: \"2022-05-16T13:02:59.430Z\",\n    expiry_time: null,\n    last_successful_attempt_time: null,\n    last_failed_attempt_time: null,\n    enabled: true\n}<pre>"
          },
          "401/500": {
            "description": "<pre>{\n  \"isError\": true,\n  \"errorCode\": 401, //--- or 500 depends on error type\n  \"errorMessage\": \"Not authorized\"\n}<pre>"
          }
        }
      },
      "put": {
        "tags": [
          "Auth_API_Keys"
        ],
        "summary": "Update an API Key of the user",
        "description": "<p>Update an API Key of the user. You need have <code>authObject/apiKey/update</code> permission in order to access this API. As the default <code>Authenticated Users</code> roles contains the permission to all <code>authObject/apiKey/*</code> type operations with ownership constraint. All <code>Authenticated Users</code> (i.e. non-anonymous) users should always have access to their own API keys.</p>",
        "parameters": [
          {
            "in": "query",
            "name": "userId",
            "description": "<p>the id of the user.</p>",
            "required": true,
            "type": "string"
          },
          {
            "in": "query",
            "name": "apiKeyId",
            "description": "<p>the id of the api key.</p>",
            "required": true,
            "type": "string"
          },
          {
            "in": "body",
            "name": "body",
            "description": "Request body",
            "required": true,
            "schema": {
              "type": "object",
              "properties": {
                "expiryTime": {
                  "type": "string",
                  "description": "<p>The expiry time (in ISO format (ISO 8601)) of the API key.</p>"
                },
                "enabled": {
                  "type": "boolean",
                  "description": "<p>Whether the api key is enabled.</p>"
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "<pre>{\n    id: \"b559889a-2843-4a60-9c6d-103d51eb4410\",\n    user_id: \"be374b6e-d428-4211-b642-b2b65abcf051\",\n    created_timestamp: \"2022-05-16T13:02:59.430Z\",\n    hash: \"$2b$10$6DD8hle27X/dVdDD3Sl3Y.V6NtJ9jBiy2cyS8SnBO5EEWMD5Wpdwe\",\n    expiry_time: null,\n    last_successful_attempt_time: null,\n    last_failed_attempt_time: null,\n    enabled: false\n}<pre>"
          },
          "401/404/500": {
            "description": "<pre>{\n  \"isError\": true,\n  \"errorCode\": 401, //--- or 404, 500 depends on error type\n  \"errorMessage\": \"Not authorized\"\n}<pre>"
          }
        }
      }
    },
    "/v0/auth/users/:userId/apiKeys": {
      "get": {
        "tags": [
          "Auth_API_Keys"
        ],
        "summary": "Get all API keys of a user",
        "description": "<p>Returns an array of api keys. When no api keys can be found, an empty array will be returned. You need have <code>authObject/apiKey/read</code> permission in order to access this API. As the default <code>Authenticated Users</code> roles contains the permission to all <code>authObject/apiKey/*</code> type operations with ownership constraint. All <code>Authenticated Users</code> (i.e. non-anonymous) users should always have access to their own API keys.</p>",
        "parameters": [
          {
            "in": "query",
            "name": "userId",
            "description": "<p>the id of the user.</p>",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "<pre>[{\n    id: \"b559889a-2843-4a60-9c6d-103d51eb4410\",\n    user_id: \"be374b6e-d428-4211-b642-b2b65abcf051\",\n    created_timestamp: \"2022-05-16T13:02:59.430Z\",\n    expiry_time: null,\n    last_successful_attempt_time: null,\n    last_failed_attempt_time: null,\n    enabled: true\n}]<pre>"
          },
          "401/500": {
            "description": "<pre>{\n  \"isError\": true,\n  \"errorCode\": 401, //--- or 500 depends on error type\n  \"errorMessage\": \"Not authorized\"\n}<pre>"
          }
        }
      },
      "post": {
        "tags": [
          "Auth_API_Keys"
        ],
        "summary": "Create a new API key for the user",
        "description": "<p>Create a new API key for the specified user. Optional supply a JSON object that contains <code>expiry_time</code> in body. You need have <code>authObject/apiKey/create</code> permission in order to access this API. As the default <code>Authenticated Users</code> roles contains the permission to all <code>authObject/apiKey/*</code> type operations with ownership constraint. All <code>Authenticated Users</code> (i.e. non-anonymous) users should always have access to their own API keys.</p>",
        "parameters": [
          {
            "in": "query",
            "name": "userId",
            "description": "<p>the id of the user.</p>",
            "required": true,
            "type": "string"
          },
          {
            "in": "body",
            "name": "body",
            "description": "Request body",
            "required": true,
            "schema": {
              "type": "object",
              "properties": {
                "expiryTime": {
                  "type": "string",
                  "description": "<p>The expiry time (in ISO format (ISO 8601)) of the API key that is about to be created.</p>"
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "<pre>{\n    id: \"b559889a-2843-4a60-9c6d-103d51eb4410\",\n    key: \"1RoGs0+MMYxjJlGH6UkyRnXC8Wrc9Y1ecREAnm5D2GM=\"\n}<pre>"
          },
          "401/404/500": {
            "description": "<pre>{\n  \"isError\": true,\n  \"errorCode\": 401, //--- or 404, 500 depends on error type\n  \"errorMessage\": \"Not authorized\"\n}<pre>"
          }
        }
      }
    },
    "/v0/private/users/apikey/:apiKeyId": {
      "get": {
        "tags": [
          "Auth_API_Keys"
        ],
        "summary": "Api Key Verification API",
        "description": "<p>Retrieve user info with api key id &amp; api key. This api is only available within cluster (i.e. it's not available via gateway) and only created for the gateway for purpose of verifying incoming API keys. This route doesn't require auth decision to be made as a user must provide valid API key id &amp; key to retrieve his own user info only.</p>",
        "parameters": [],
        "responses": {
          "200": {
            "description": "<pre>{\n    \"id\":\"...\",\n    \"displayName\":\"Fred Nerk\",\n    \"photoURL\":\"...\",\n    \"OrgUnitId\": \"xxx\"\n    ...\n}<pre>"
          },
          "401/500": {
            "description": "<pre>{\n  \"isError\": true,\n  \"errorCode\": 401, //--- or 500 depends on error type\n  \"errorMessage\": \"Not authorized\"\n}<pre>"
          }
        }
      }
    },
    "/v0/auth/accessGroups/:groupId": {
      "delete": {
        "tags": [
          "Auth_Access_Groups"
        ],
        "summary": "Delete an access group",
        "description": "<p>Delete an access group You can only delete an access group when all resources (e.g. datasets) that are associated with the access group are removed from the access group. Once an access group is deleted, the role &amp; permission that are associated with the access group will be also deleted.</p> <p>You need <code>object/record/delete</code> permission to the access group record in order to access this API.</p>",
        "parameters": [
          {
            "in": "query",
            "name": "groupId",
            "description": "<p>id of the access group</p>",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "<pre>{\n    result: true\n}<pre>"
          },
          "401/500": {
            "description": "<pre>{\n  \"isError\": true,\n  \"errorCode\": 401, //--- or 500 depends on error type\n  \"errorMessage\": \"Not authorized\"\n}<pre>"
          }
        }
      },
      "put": {
        "tags": [
          "Auth_Access_Groups"
        ],
        "summary": "Update an access group",
        "description": "<p>Update an access group Supply a JSON object that contains fields to be updated in body. You need have <code>authObject/operation/update</code> permission to access this API. Please note: you can't update the <code>resourceUri</code> field of an access group. If you have to change the resource type, you should delete the access group and create a new one.</p>",
        "parameters": [
          {
            "in": "query",
            "name": "groupId",
            "description": "<p>id of the access group</p>",
            "required": true,
            "type": "string"
          },
          {
            "in": "body",
            "name": "body",
            "description": "Request body",
            "required": true,
            "schema": {
              "type": "object",
              "properties": {
                "name": {
                  "type": "string",
                  "description": "<p>the name given to the access group</p>"
                },
                "description": {
                  "type": "string",
                  "description": "<p>The free text description for the access group</p>"
                },
                "keywords": {
                  "type": "string[]",
                  "description": "<p>Tags (or keywords) help users discover the access-group</p>"
                },
                "operationUris": {
                  "type": "string",
                  "description": "<p>A list of operations that the access group allows enrolled users to perform on included resources.</p>"
                },
                "ownerId": {
                  "type": "string",
                  "description": "<p>The user ID of the access group owner. If not specified, the request user (if available) will be the owner. If a <code>null</code> value is supplied, the owner of the access group will be set to <code>null</code>.</p>"
                },
                "orgUnitId": {
                  "type": "string",
                  "description": "<p>The ID of the orgUnit that the access group belongs to. If not specified, the request user's orgUnit (if available) will be used. If a <code>null</code> value is supplied, the orgUnit of the access group will be set to <code>null</code>.</p>"
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "<pre>{\n   \"id\": \"e30135df-523f-46d8-99f6-2450fd8d6a37\",\n   \"name\": \"a test access group 2\",\n   \"description\": \"a test access group\",\n   \"resourceUri\": \"object/record\",\n   \"operationUris\": [\"object/record/read\"],\n   \"keywords\": [\"keyword 1\", \"keyword2\"],\n   \"permissionId\": \"2b117a5f-dadb-4130-bf44-b72ee67d009b\",\n   \"roleId\": \"5b616fa0-a123-4e9c-b197-65b3db8522fa\",\n   \"ownerId\": \"3535fdad-1804-4614-a9ce-ce196e880238\",\n   \"orgUnitId\": null,\n   \"createBy\": \"3535fdad-1804-4614-a9ce-ce196e880238\",\n   \"editTime\": \"2022-03-28T10:18:10.479Z\",\n   \"editBy\": \"3535fdad-1804-4614-a9ce-ce196e880238\",\n   \"editTime\": \"2022-03-28T10:18:10.479Z\"\n}<pre>"
          },
          "401/404/500": {
            "description": "<pre>{\n  \"isError\": true,\n  \"errorCode\": 401, //--- or 404, 500 depends on error type\n  \"errorMessage\": \"Not authorized\"\n}<pre>"
          }
        }
      }
    },
    "/v0/auth/accessGroups/:groupId/datasets/:datasetId": {
      "delete": {
        "tags": [
          "Auth_Access_Groups"
        ],
        "summary": "Remove an Dataset from an Access Group",
        "description": "<p>Remove an Dataset from an Access Group</p> <p>Access group users will lost the access (granted by the access group) to the removed dataset.</p> <p>You need <code>object/record/update</code> permission to the access group.</p>",
        "parameters": [
          {
            "in": "query",
            "name": "groupId",
            "description": "<p>id of the access group</p>",
            "required": true,
            "type": "string"
          },
          {
            "in": "query",
            "name": "datasetId",
            "description": "<p>id of the dataset</p>",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "<pre>{\n    result: true\n}<pre>"
          },
          "401/500": {
            "description": "<pre>{\n  \"isError\": true,\n  \"errorCode\": 401, //--- or 500 depends on error type\n  \"errorMessage\": \"Not authorized\"\n}<pre>"
          }
        }
      },
      "post": {
        "tags": [
          "Auth_Access_Groups"
        ],
        "summary": "Add an Dataset to an Access Group",
        "description": "<p>Add an Dataset to an Access Group</p> <p>Access group users will all granted access (specified by the access group permission) to all added datasets.</p> <p>You need <code>object/record/update</code> permission to both access group and dataset record in order to access this API.</p>",
        "parameters": [
          {
            "in": "query",
            "name": "groupId",
            "description": "<p>id of the access group</p>",
            "required": true,
            "type": "string"
          },
          {
            "in": "query",
            "name": "datasetId",
            "description": "<p>id of the dataset</p>",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "<pre>{\n    result: true\n}<pre>"
          },
          "401/500": {
            "description": "<pre>{\n  \"isError\": true,\n  \"errorCode\": 401, //--- or 500 depends on error type\n  \"errorMessage\": \"Not authorized\"\n}<pre>"
          }
        }
      }
    },
    "/v0/auth/accessGroups/:groupId/users/:userId": {
      "delete": {
        "tags": [
          "Auth_Access_Groups"
        ],
        "summary": "Remove an User from an Access Group",
        "description": "<p>Remove an User from an Access Group</p> <p>You need <code>object/record/update</code> permission to the access group record in order to access this API.</p>",
        "parameters": [
          {
            "in": "query",
            "name": "groupId",
            "description": "<p>id of the access group</p>",
            "required": true,
            "type": "string"
          },
          {
            "in": "query",
            "name": "userId",
            "description": "<p>id of the user to be added to the access group</p>",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "<pre>{\n    result: true\n}<pre>"
          },
          "401/500": {
            "description": "<pre>{\n  \"isError\": true,\n  \"errorCode\": 401, //--- or 500 depends on error type\n  \"errorMessage\": \"Not authorized\"\n}<pre>"
          }
        }
      },
      "post": {
        "tags": [
          "Auth_Access_Groups"
        ],
        "summary": "Add an User to an Access Group",
        "description": "<p>Add an User to an Access Group</p> <p>Access group users have access (specified by the access group permission) to all datasets in the access group.</p> <p>You need <code>object/record/update</code> permission to the access group record in order to access this API.</p>",
        "parameters": [
          {
            "in": "query",
            "name": "groupId",
            "description": "<p>id of the access group</p>",
            "required": true,
            "type": "string"
          },
          {
            "in": "query",
            "name": "userId",
            "description": "<p>id of the user to be added to the access group</p>",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "<pre>{\n    result: true\n}<pre>"
          },
          "401/500": {
            "description": "<pre>{\n  \"isError\": true,\n  \"errorCode\": 401, //--- or 500 depends on error type\n  \"errorMessage\": \"Not authorized\"\n}<pre>"
          }
        }
      }
    },
    "/v0/auth/accessGroups/:groupId/users": {
      "get": {
        "tags": [
          "Auth_Access_Groups"
        ],
        "summary": "Get all matched users in an access group",
        "description": "<p>return a list matched users of an access group. Required <code>object/record/read</code> permission to the access group in order to access this API.</p>",
        "parameters": [
          {
            "in": "query",
            "name": "groupId",
            "description": "<p>id of the access group</p>",
            "required": true,
            "type": "string"
          },
          {
            "in": "query",
            "name": "offset",
            "description": "<p>The index of the first record in the result set to retrieve.</p>",
            "required": false,
            "type": "number"
          },
          {
            "in": "query",
            "name": "limit",
            "description": "<p>The maximum number of records of the result set to receive. If not present, a default value of 500 will be used.</p>",
            "required": false,
            "type": "number"
          },
          {
            "in": "query",
            "name": "keyword",
            "description": "<p>When set, will only return user records whose &quot;displayName&quot;, &quot;email&quot; or &quot;source&quot; field contains the specified keyword.</p>",
            "required": false,
            "type": "string"
          },
          {
            "in": "query",
            "name": "id",
            "description": "<p>When set, will only return records whose id is the specified ID.</p>",
            "required": false,
            "type": "string"
          },
          {
            "in": "query",
            "name": "source",
            "description": "<p>When set, will only return records whose source is the specified source name.</p>",
            "required": false,
            "type": "string"
          },
          {
            "in": "query",
            "name": "sourceId",
            "description": "<p>When set, will only return records whose sourceId is the specified source ID.</p>",
            "required": false,
            "type": "string"
          },
          {
            "in": "query",
            "name": "orgUnitId",
            "description": "<p>When set, will only return records whose orgUnitId is the specified org unit id.</p>",
            "required": false,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "<pre>[{\n    \"id\":\"...\",\n    \"displayName\":\"Fred Nerk\",\n    \"email\":\"fred.nerk@data61.csiro.au\",\n    \"photoURL\":\"...\",\n    \"source\":\"google\",\n    \"orgUnitId\": \"...\"\n}]<pre>"
          },
          "401/500": {
            "description": "<pre>{\n  \"isError\": true,\n  \"errorCode\": 401, //--- or 500 depends on error type\n  \"errorMessage\": \"Not authorized\"\n}<pre>"
          }
        }
      }
    },
    "/v0/auth/accessGroups/:groupId/users/count": {
      "get": {
        "tags": [
          "Auth_Access_Groups"
        ],
        "summary": "Get the count of all matched users in an access group",
        "description": "<p>return the count number of all matched users of an access group. Required <code>object/record/read</code> permission to the access group in order to access this API.</p>",
        "parameters": [
          {
            "in": "query",
            "name": "groupId",
            "description": "<p>id of the access group</p>",
            "required": true,
            "type": "string"
          },
          {
            "in": "query",
            "name": "keyword",
            "description": "<p>When set, will only return user records whose &quot;displayName&quot;, &quot;email&quot; or &quot;source&quot; field contains the specified keyword.</p>",
            "required": false,
            "type": "string"
          },
          {
            "in": "query",
            "name": "id",
            "description": "<p>When set, will only return records whose id is the specified ID.</p>",
            "required": false,
            "type": "string"
          },
          {
            "in": "query",
            "name": "source",
            "description": "<p>When set, will only return records whose source is the specified source name.</p>",
            "required": false,
            "type": "string"
          },
          {
            "in": "query",
            "name": "sourceId",
            "description": "<p>When set, will only return records whose sourceId is the specified source ID.</p>",
            "required": false,
            "type": "string"
          },
          {
            "in": "query",
            "name": "orgUnitId",
            "description": "<p>When set, will only return records whose orgUnitId is the specified org unit id.</p>",
            "required": false,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "<pre>{\n  \"count\" : 5\n}<pre>"
          },
          "401/500": {
            "description": "<pre>{\n  \"isError\": true,\n  \"errorCode\": 401, //--- or 500 depends on error type\n  \"errorMessage\": \"Not authorized\"\n}<pre>"
          }
        }
      }
    },
    "/v0/auth/accessGroups": {
      "post": {
        "tags": [
          "Auth_Access_Groups"
        ],
        "summary": "Create a new access group",
        "description": "<p>Create a new access group. Returns the newly created access group. Required <code>object/accessGroup/create</code> permission to access this API.</p>",
        "parameters": [
          {
            "in": "body",
            "name": "body",
            "description": "Request body",
            "required": true,
            "schema": {
              "type": "object",
              "properties": {
                "name": {
                  "type": "string",
                  "description": "<p>A name given to the access group</p>"
                },
                "description": {
                  "type": "string",
                  "description": "<p>The free text description for the access group</p>"
                },
                "keywords": {
                  "type": "string[]",
                  "description": "<p>Tags (or keywords) help users discover the access-group</p>"
                },
                "resourceUri": {
                  "type": "string",
                  "description": "<p>The Resource URI specifies the type of resources that the access group manages. At this moment, only one value <code>object/record</code> (registry records) is supported.</p>"
                },
                "operationUris": {
                  "type": "string",
                  "description": "<p>A list of operations that the access group allows enrolled users to perform on included resources.</p>"
                },
                "ownerId": {
                  "type": "string",
                  "description": "<p>The user ID of the access group owner. If not specified, the request user (if available) will be the owner. If a <code>null</code> value is supplied, the owner of the access group will be set to <code>null</code>.</p>"
                },
                "orgUnitId": {
                  "type": "string",
                  "description": "<p>The ID of the orgUnit that the access group belongs to. If not specified, the request user's orgUnit (if available) will be used. If a <code>null</code> value is supplied, the orgUnit of the access group will be set to <code>null</code>.</p>"
                }
              },
              "required": [
                "name",
                "resourceUri",
                "operationUris"
              ]
            }
          }
        ],
        "responses": {
          "200": {
            "description": "<pre>{\n   \"id\": \"e30135df-523f-46d8-99f6-2450fd8d6a37\",\n   \"name\": \"a test access group\",\n   \"description\": \"a test access group\",\n   \"resourceUri\": \"object/record\",\n   \"operationUris\": [\"object/record/read\", \"object/record/update\"],\n   \"keywords\": [\"keyword 1\", \"keyword2\"],\n   \"permissionId\": \"2b117a5f-dadb-4130-bf44-b72ee67d009b\",\n   \"roleId\": \"5b616fa0-a123-4e9c-b197-65b3db8522fa\",\n   \"ownerId\": \"3535fdad-1804-4614-a9ce-ce196e880238\",\n   \"orgUnitId\": \"36ef9450-6579-421c-a178-d3b5b4f1a3df\",\n   \"createBy\": \"3535fdad-1804-4614-a9ce-ce196e880238\",\n   \"editTime\": \"2022-03-28T10:18:10.479Z\",\n   \"editBy\": \"3535fdad-1804-4614-a9ce-ce196e880238\",\n   \"editTime\": \"2022-03-28T10:18:10.479Z\"\n}<pre>"
          },
          "401/500": {
            "description": "<pre>{\n  \"isError\": true,\n  \"errorCode\": 401, //--- or 500 depends on error type\n  \"errorMessage\": \"Not authorized\"\n}<pre>"
          }
        }
      }
    },
    "/v0/auth/operations/:id": {
      "delete": {
        "tags": [
          "Auth_Operations"
        ],
        "summary": "Delete an operation record",
        "description": "<p>Delete an operation record. When the operation is deleted, access will be removed from all existing permissions that are relevant to the operation.</p> <p>You need <code>authObject/operation/delete</code> permission in order to access this API.</p>",
        "parameters": [
          {
            "in": "query",
            "name": "id",
            "description": "<p>id of the operation</p>",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "<pre>{\n    result: true\n}<pre>"
          },
          "401/500": {
            "description": "<pre>{\n  \"isError\": true,\n  \"errorCode\": 401, //--- or 500 depends on error type\n  \"errorMessage\": \"Not authorized\"\n}<pre>"
          }
        }
      },
      "get": {
        "tags": [
          "Auth_Operations"
        ],
        "summary": "Get an operation record by ID",
        "description": "<p>Get an operation record by ID Required <code>authObject/operation/read</code> permission to access this API.</p>",
        "parameters": [
          {
            "in": "query",
            "name": "id",
            "description": "<p>the operation id.</p>",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "<pre>{\n   \"id\": \"e30135df-523f-46d8-99f6-2450fd8d6a37\",\n   \"uri\": \"object/aspect/delete\",\n   \"name\": \"Delete Aspect Definition\",\n   \"description\": \"test description\",\n   \"resource_id\": \"2c0981d2-71bf-4806-a590-d1c779dcad8b\"\n}<pre>"
          },
          "401/500": {
            "description": "<pre>{\n  \"isError\": true,\n  \"errorCode\": 401, //--- or 500 depends on error type\n  \"errorMessage\": \"Not authorized\"\n}<pre>"
          }
        }
      },
      "put": {
        "tags": [
          "Auth_Operations"
        ],
        "summary": "Update a operation record",
        "description": "<p>Update a operation record Supply a JSON object that contains fields to be updated in body. You need have <code>authObject/operation/update</code> permission to access this API.</p>",
        "parameters": [
          {
            "in": "query",
            "name": "id",
            "description": "<p>id of the operation record</p>",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "<pre>{\n   \"id\": \"e30135df-523f-46d8-99f6-2450fd8d6a37\",\n   \"uri\": \"object/aspect/delete\",\n   \"name\": \"Delete Aspect Definition\",\n   \"description\": \"test description\",\n   \"resource_id\": \"2c0981d2-71bf-4806-a590-d1c779dcad8b\"\n}<pre>"
          },
          "401/404/500": {
            "description": "<pre>{\n  \"isError\": true,\n  \"errorCode\": 401, //--- or 404, 500 depends on error type\n  \"errorMessage\": \"Not authorized\"\n}<pre>"
          }
        }
      }
    },
    "/v0/auth/operations/byUri/*": {
      "get": {
        "tags": [
          "Auth_Operations"
        ],
        "summary": "Get a operation record by URI",
        "description": "<p>Get a operation record by URI Required <code>authObject/operation/read</code> permission to access this API.</p>",
        "parameters": [
          {
            "in": "query",
            "name": "resUri",
            "description": "<p>the operation uri can be specified at the end of the URI path. e.g. <code>/v0/auth/operations/byUri/object/aspect/delete</code></p>",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "<pre>{\n   \"id\": \"e30135df-523f-46d8-99f6-2450fd8d6a37\",\n   \"uri\": \"object/aspect/delete\",\n   \"name\": \"Delete Aspect Definition\",\n   \"description\": \"test description\",\n   \"resource_id\": \"2c0981d2-71bf-4806-a590-d1c779dcad8b\"\n}<pre>"
          },
          "401/500": {
            "description": "<pre>{\n  \"isError\": true,\n  \"errorCode\": 401, //--- or 500 depends on error type\n  \"errorMessage\": \"Not authorized\"\n}<pre>"
          }
        }
      }
    },
    "/v0/auth/resources/:resId/operations": {
      "get": {
        "tags": [
          "Auth_Operations"
        ],
        "summary": "Get operations of a resource that meet selection criteria",
        "description": "<p>return operation records of a role that meet selection criteria Required <code>authObject/resource/read</code> permission to access this API.</p>",
        "parameters": [
          {
            "in": "query",
            "name": "keyword",
            "description": "<p>When specified, will return only role records whose <code>name</code>, <code>description</code> or <code>uri</code> contains the supplied keyword.</p>",
            "required": false,
            "type": "string"
          },
          {
            "in": "query",
            "name": "id",
            "description": "<p>When specified, will return the records whose <code>id</code> matches the supplied value.</p>",
            "required": false,
            "type": "string"
          },
          {
            "in": "query",
            "name": "uri",
            "description": "<p>When specified, will return the records whose <code>uri</code> matches the supplied value.</p>",
            "required": false,
            "type": "string"
          },
          {
            "in": "query",
            "name": "offset",
            "description": "<p>When specified, will return the records from specified offset in the result set.</p>",
            "required": false,
            "type": "number"
          },
          {
            "in": "query",
            "name": "limit",
            "description": "<p>This parameter no.of records to be returned.</p>",
            "required": false,
            "type": "number"
          }
        ],
        "responses": {
          "200": {
            "description": "<pre>[{\n   \"id\": \"e30135df-523f-46d8-99f6-2450fd8d6a37\",\n   \"uri\": \"object/aspect/delete\",\n   \"name\": \"Delete Aspect Definition\",\n   \"description\": \"test description\",\n   \"resource_id\": \"2c0981d2-71bf-4806-a590-d1c779dcad8b\"\n}]<pre>"
          },
          "401/500": {
            "description": "<pre>{\n  \"isError\": true,\n  \"errorCode\": 401, //--- or 500 depends on error type\n  \"errorMessage\": \"Not authorized\"\n}<pre>"
          }
        }
      },
      "post": {
        "tags": [
          "Auth_Operations"
        ],
        "summary": "Create an operation for a resource",
        "description": "<p>Create an new operation for a resource Returns the newly created operation record. Required <code>authObject/operation/create</code> permission to access this API.</p>",
        "parameters": [
          {
            "in": "query",
            "name": "resId",
            "description": "<p>id of the resource</p>",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "<pre>{\n   \"id\": \"e30135df-523f-46d8-99f6-2450fd8d6a37\",\n   \"uri\": \"object/aspect/delete\",\n   \"name\": \"Delete Aspect Definition\",\n   \"description\": \"test description\",\n   \"resource_id\": \"2c0981d2-71bf-4806-a590-d1c779dcad8b\"\n}<pre>"
          },
          "401/500": {
            "description": "<pre>{\n  \"isError\": true,\n  \"errorCode\": 401, //--- or 500 depends on error type\n  \"errorMessage\": \"Not authorized\"\n}<pre>"
          }
        }
      }
    },
    "/v0/auth/resources/:resId/operations/count": {
      "get": {
        "tags": [
          "Auth_Operations"
        ],
        "summary": "Get the count of all operations of a resource that meet selection criteria",
        "description": "<p>return the count of all operation records of a role that meet selection criteria Required <code>authObject/resource/read</code> permission to access this API.</p>",
        "parameters": [
          {
            "in": "query",
            "name": "keyword",
            "description": "<p>When specified, will return only role records whose <code>name</code>, <code>description</code> or <code>uri</code> contains the supplied keyword.</p>",
            "required": false,
            "type": "string"
          },
          {
            "in": "query",
            "name": "id",
            "description": "<p>When specified, will return the records whose <code>id</code> matches the supplied value.</p>",
            "required": false,
            "type": "string"
          },
          {
            "in": "query",
            "name": "uri",
            "description": "<p>When specified, will return the records whose <code>uri</code> matches the supplied value.</p>",
            "required": false,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "<pre>{\n   \"count\": 5\n}<pre>"
          },
          "401/500": {
            "description": "<pre>{\n  \"isError\": true,\n  \"errorCode\": 401, //--- or 500 depends on error type\n  \"errorMessage\": \"Not authorized\"\n}<pre>"
          }
        }
      }
    },
    "/v0/auth/orgunits/:nodeId": {
      "delete": {
        "tags": [
          "Auth_OrgUnits"
        ],
        "summary": "Delete an org unit node",
        "description": "<p>Delete an org unit node. You can't delete a root node with this API.</p>",
        "parameters": [
          {
            "in": "query",
            "name": "nodeId",
            "description": "<p>The id of the node to be deleted.</p>",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "<pre>true<pre>"
          },
          "401/404/500": {
            "description": "<pre>{\n  \"isError\": true,\n  \"errorCode\": 403, //--- or 404, 500 depends on error type\n  \"errorMessage\": \"Not authorized\"\n}<pre>"
          }
        }
      },
      "get": {
        "tags": [
          "Auth_OrgUnits"
        ],
        "summary": "Get details for a node",
        "description": "<p>Gets the details of the node with this id.</p>",
        "parameters": [
          {
            "in": "query",
            "name": "nodeId",
            "description": "<p>id of the node to query</p>",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "<pre>{\n  id: \"e5f0ed5f-aa97-4e49-89a6-3f044aecc3f7\"\n  name: \"other-team\"\n  description: \"The other teams\"\n}<pre>"
          },
          "401/404/500": {
            "description": "<pre>{\n  \"isError\": true,\n  \"errorCode\": 401, //--- or 404, 500 depends on error type\n  \"errorMessage\": \"Not authorized\"\n}<pre>"
          }
        }
      },
      "put": {
        "tags": [
          "Auth_OrgUnits"
        ],
        "summary": "Update details for a node",
        "description": "<p>Update the node with the specified id with supplied node data.</p>",
        "parameters": [
          {
            "in": "query",
            "name": "nodeId",
            "description": "<p>id of the node to query</p>",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "<pre>{\n  \"id\": \"e5f0ed5f-aa97-4e49-89a6-3f044aecc3f7\",\n  \"name\": \"other-team\",\n  description: \"The other teams\"\n}<pre>"
          },
          "401/404/500": {
            "description": "<pre>{\n  \"isError\": true,\n  \"errorCode\": 401, //--- or 404, 500 depends on error type\n  \"errorMessage\": \"Not authorized\"\n}<pre>"
          }
        }
      }
    },
    "/v0/auth/orgunits/:nodeId/subtree": {
      "delete": {
        "tags": [
          "Auth_OrgUnits"
        ],
        "summary": "Delete subtree",
        "description": "<p>Deletes a node and all its children. Will delete the root node if that is the one specified in nodeId.</p>",
        "parameters": [
          {
            "in": "query",
            "name": "nodeId",
            "description": "<p>id of the node to delete</p>",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "<pre>{\n  \"result\": \"SUCCESS\"\n}<pre>"
          },
          "401/500": {
            "description": "<pre>{\n  \"isError\": true,\n  \"errorCode\": 401, //--- or 500 depends on error type\n  \"errorMessage\": \"Not authorized\"\n}<pre>"
          }
        }
      }
    },
    "/v0/auth/orgunits": {
      "get": {
        "tags": [
          "Auth_OrgUnits"
        ],
        "summary": "Get orgunits by name",
        "description": "<p>Gets org units matching a name Optionally provide a test Org Unit Id that will be used to test the relationship with each of returned orgUnit item. Possible Value: 'ancestor', 'descendant', 'equal', 'unrelated'</p>",
        "parameters": [
          {
            "in": "query",
            "name": "nodeName",
            "description": "<p>the name of the org unit to look up</p>",
            "required": true,
            "type": "string"
          },
          {
            "in": "query",
            "name": "leafNodesOnly",
            "description": "<p>Whether only leaf nodes should be returned</p>",
            "required": true,
            "type": "boolean"
          },
          {
            "in": "query",
            "name": "relationshipOrgUnitId",
            "description": "<p>Optional; The org unit id that is used to test the relationship with each of returned orgUnit item.</p>",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "<pre>[{\n  \"id\": \"e5f0ed5f-aa97-4e49-89a6-3f044aecc3f7\",\n  \"name\": \"other-team\",\n  \"description\": \"The other teams\",\n  \"relationship\": \"unrelated\"\n}]<pre>"
          },
          "401/500": {
            "description": "<pre>{\n  \"isError\": true,\n  \"errorCode\": 401, //--- or 500 depends on error type\n  \"errorMessage\": \"Not authorized\"\n}<pre>"
          }
        }
      }
    },
    "/v0/auth/orgunits/bylevel/:orgLevel": {
      "get": {
        "tags": [
          "Auth_OrgUnits"
        ],
        "summary": "List OrgUnits at certain org tree level",
        "description": "<p>List all OrgUnits at certain org tree level Optionally provide a test Org Unit Id that will be used to test the relationship with each of returned orgUnit item. Possible Value: 'ancestor', 'descendant', 'equal', 'unrelated'</p>",
        "parameters": [
          {
            "in": "query",
            "name": "orgLevel",
            "description": "<p>The level number (starts from 1) where org Units of the tree are taken horizontally.</p>",
            "required": true,
            "type": "string"
          },
          {
            "in": "query",
            "name": "relationshipOrgUnitId",
            "description": "<p>Optional; The org unit id that is used to test the relationship with each of returned orgUnit item.</p>",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "<pre>[{\n  \"id\": \"e5f0ed5f-aa97-4e49-89a6-3f044aecc3f7\",\n  \"name\": \"node 1\",\n  \"description\": \"xxxxxxxx\",\n  \"relationship\": \"unrelated\"\n},{\n  \"id\": \"e5f0ed5f-bb00-4e49-89a6-3f044aecc3f7\",\n  \"name\": \"node 2\",\n  \"description\": \"xxxxxxxx\",\n  \"relationship\": \"ancestor\"\n}]<pre>"
          },
          "401/404/500": {
            "description": "<pre>{\n  \"isError\": true,\n  \"errorCode\": 401, //--- or 404, 500 depends on error type\n  \"errorMessage\": \"Not authorized\"\n}<pre>"
          }
        }
      }
    },
    "/v0/auth/orgunits/:higherNodeId/topDownPathTo/:lowerNodeId": {
      "get": {
        "tags": [
          "Auth_OrgUnits"
        ],
        "summary": "Get get top down path between 2 nodes",
        "description": "<p>Get all nodes on the top to down path between the <code>higherNode</code> to the <code>lowerNode</code>. Sort from higher level nodes to lower level node. Result will include <code>higherNode</code> and the <code>lowerNode</code>. If <code>higherNode</code> and the <code>lowerNode</code> is the same node, an array contains the single node will be responded. If a path doesn't exist, <code>[]</code> (empty array) will be responded. If you pass a lower node to the <code>higherNodeId</code> and a higher node to <code>lowerNodeId</code>, <code>[]</code> (empty array) will be responded. If you don't have access to the higherNode, <code>[]</code> (empty array) will be responded.</p>",
        "parameters": [
          {
            "in": "query",
            "name": "nodeId",
            "description": "<p>id of the node to query</p>",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "<pre>[{\n  id: \"e5f0ed5f-aa97-4e49-89a6-3f044aecc3f7\"\n  name: \"other-team\"\n  description: \"The other teams\"\n}]<pre>"
          },
          "401/500": {
            "description": "<pre>Not authorized<pre>"
          }
        }
      }
    },
    "/v0/auth/orgunits/:nodeId/children/all": {
      "get": {
        "tags": [
          "Auth_OrgUnits"
        ],
        "summary": "Get all children for a node",
        "description": "<p>Gets all the children below the requested node recursively. If node doesn't exist, returns an empty list.</p>",
        "parameters": [
          {
            "in": "query",
            "name": "nodeId",
            "description": "<p>id of the node to query</p>",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "<pre> [{\n  id: \"e5f0ed5f-aa97-4e49-89a6-3f044aecc3f7\"\n  name: \"other-team\"\n  description: \"The other teams\"\n}]<pre>"
          },
          "401/500": {
            "description": "<pre>{\n  \"isError\": true,\n  \"errorCode\": 401, //--- or 500 depends on error type\n  \"errorMessage\": \"Not authorized\"\n}<pre>"
          }
        }
      }
    },
    "/v0/auth/orgunits/:nodeId/children/immediate": {
      "get": {
        "tags": [
          "Auth_OrgUnits"
        ],
        "summary": "Get immediate children for a node",
        "description": "<p>Gets all the children immediately below the requested node. If the node doesn't exist, returns an empty list.</p>",
        "parameters": [
          {
            "in": "query",
            "name": "nodeId",
            "description": "<p>id of the node to query</p>",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "<pre> [{\n  id: \"e5f0ed5f-aa97-4e49-89a6-3f044aecc3f7\"\n  name: \"other-team\"\n  description: \"The other teams\"\n}]<pre>"
          },
          "401/500": {
            "description": "<pre>{\n  \"isError\": true,\n  \"errorCode\": 401, //--- or 500 depends on error type\n  \"errorMessage\": \"Not authorized\"\n}<pre>"
          }
        }
      }
    },
    "/v0/auth/orgunits/root": {
      "get": {
        "tags": [
          "Auth_OrgUnits"
        ],
        "summary": "Get root organisational unit",
        "description": "<p>Gets the root organisation unit (top of the tree).</p>",
        "parameters": [],
        "responses": {
          "200": {
            "description": "<pre>{\n  id: \"e5f0ed5f-aa97-4e49-89a6-3f044aecc3f7\"\n  name: \"other-team\"\n  description: \"The other teams\"\n}<pre>"
          },
          "401/404/500": {
            "description": "<pre>{\n  \"isError\": true,\n  \"errorCode\": 401, //--- or 404, 500 depends on error type\n  \"errorMessage\": \"Not authorized\"\n}<pre>"
          }
        }
      },
      "post": {
        "tags": [
          "Auth_OrgUnits"
        ],
        "summary": "Create root organisation",
        "description": "<p>Creates the root organisation unit (top of the tree).</p>",
        "parameters": [],
        "responses": {
          "200": {
            "description": "<pre>{\n  \"nodeId\": \"e5f0ed5f-aa97-4e49-89a6-3f044aecc3f7\"\n}<pre>"
          },
          "401/500": {
            "description": "<pre>{\n  \"isError\": true,\n  \"errorCode\": 401, //--- or 500 depends on error type\n  \"errorMessage\": \"Not authorized\"\n}<pre>"
          }
        }
      }
    },
    "/v0/auth/orgunits/:parentNodeId/insert": {
      "post": {
        "tags": [
          "Auth_OrgUnits"
        ],
        "summary": "Create a new node under the parent node",
        "description": "<p>Create a new node under the specified parent node</p>",
        "parameters": [
          {
            "in": "query",
            "name": "parentNodeId",
            "description": "<p>id of the parent node</p>",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "<pre>{\n  \"id\": \"e5f0ed5f-aa97-4e49-89a6-3f044aecc3f7\",\n  \"name\": \"other-team\",\n  description: \"The other teams\"\n}<pre>"
          },
          "401/404/500": {
            "description": "<pre>{\n  \"isError\": true,\n  \"errorCode\": 401, //--- or 404, 500 depends on error type\n  \"errorMessage\": \"Not authorized\"\n}<pre>"
          }
        }
      }
    },
    "/v0/auth/orgunits/:nodeId/move/:newParentId": {
      "put": {
        "tags": [
          "Auth_OrgUnits"
        ],
        "summary": "Move a sub tree to a new parennt",
        "description": "<p>Move a sub tree to a new parennt.</p>",
        "parameters": [
          {
            "in": "query",
            "name": "nodeId",
            "description": "<p>The id of the root node of the sub tree to be moved.</p>",
            "required": true,
            "type": "string"
          },
          {
            "in": "query",
            "name": "newParentId",
            "description": "<p>The new parent node id that the sub tree wil be attached to.</p>",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "<pre>true<pre>"
          },
          "401/404/500": {
            "description": "<pre>{\n  \"isError\": true,\n  \"errorCode\": 403, //--- or 404, 500 depends on error type\n  \"errorMessage\": \"Not authorized\"\n}<pre>"
          }
        }
      }
    },
    "/v0/auth/permissions/:permissionId": {
      "delete": {
        "tags": [
          "Auth_Permissions"
        ],
        "summary": "Delete a permission record",
        "description": "<p>Delete a permission record. If this permission has been assigned to any roles, an error will be thrown. You need <code>authObject/permission/delete</code> permission in order to access this API.</p>",
        "parameters": [
          {
            "in": "query",
            "name": "permissionId",
            "description": "<p>id of the permission record</p>",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "<pre>{\n    result: true\n}<pre>"
          },
          "401/500": {
            "description": "<pre>{\n  \"isError\": true,\n  \"errorCode\": 401, //--- or 500 depends on error type\n  \"errorMessage\": \"Not authorized\"\n}<pre>"
          }
        }
      },
      "put": {
        "tags": [
          "Auth_Permissions"
        ],
        "summary": "Update a permission record",
        "description": "<p>Update a permission record Supply a JSON object that contains fields to be updated in body. You need have update permission to the permission record (<code>authObject/permission/update</code>) in order to access this API.</p>",
        "parameters": [
          {
            "in": "query",
            "name": "permissionId",
            "description": "<p>id of the permission record</p>",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "<pre>{\n  id: \"c85a9735-7d85-4d50-a151-c79dec644ba0\",\n  \"name\": \"xxxxx\",\n  \"description\": \"sdfsdfds sdfsdf sdfs\",\n  \"resource_id\": \"1c0889aa-6d4f-4492-9a6f-1ecc4765e8d6\",\n  \"user_ownership_constraint\": true,\n  \"org_unit_ownership_constraint\": false,\n  \"pre_authorised_constraint\": false,\n  \"allow_exemption\": false,\n  \"owner_id\": \"78b37c9b-a59a-4da1-9b84-ac48dff43a1a\",\n  \"create_by\": \"78b37c9b-a59a-4da1-9b84-ac48dff43a1a\",\n  \"create_time\": \"2022-06-03 02:28:34.794547+00\",\n  \"edit_by\": \"78b37c9b-a59a-4da1-9b84-ac48dff43a1a\",\n  \"edit_time\": \"2022-06-03 02:28:34.794547+00\"\n}<pre>"
          },
          "401/404/500": {
            "description": "<pre>{\n  \"isError\": true,\n  \"errorCode\": 401, //--- or 404, 500 depends on error type\n  \"errorMessage\": \"Not authorized\"\n}<pre>"
          }
        }
      }
    },
    "/v0/auth/roles/:roleId/permissions/:permissionId": {
      "delete": {
        "tags": [
          "Auth_Permissions"
        ],
        "summary": "Remove a permission from a role",
        "description": "<p>Remove a permission assignment from a role. if the permission has not assigned to any other roles, the permission will be deleted as well unless the <code>deletePermission</code> query string parameter is set to <code>false</code>. You need <code>authObject/role/update</code> permission in order to access this API.</p>",
        "parameters": [
          {
            "in": "query",
            "name": "roleId",
            "description": "<p>id of the role</p>",
            "required": true,
            "type": "string"
          },
          {
            "in": "query",
            "name": "permissionId",
            "description": "<p>id of the permission record</p>",
            "required": true,
            "type": "string"
          },
          {
            "in": "query",
            "name": "deletePermission",
            "description": "<p>Default to <code>true</code>. Indicate whether the API should attempt to delete the permission record as well after remove the permission assignment. Please note: when <code>deletePermission</code> = true, the API will ony delete the permission record when it has not assigned to any other roles.</p>",
            "required": false,
            "type": "boolean"
          }
        ],
        "responses": {
          "200": {
            "description": "<pre>{\n    result: true\n}<pre>"
          },
          "401/500": {
            "description": "<pre>{\n  \"isError\": true,\n  \"errorCode\": 401, //--- or 500 depends on error type\n  \"errorMessage\": \"Not authorized\"\n}<pre>"
          }
        }
      },
      "post": {
        "tags": [
          "Auth_Permissions"
        ],
        "summary": "Assign a permission to a role",
        "description": "<p>Assign an existing permission to the role specified by roleId. Required <code>authObject/role/update</code> permission to access this API.</p>",
        "parameters": [
          {
            "in": "query",
            "name": "roleId",
            "description": "<p>id of the role</p>",
            "required": true,
            "type": "string"
          },
          {
            "in": "query",
            "name": "permissionId",
            "description": "<p>id of the permission to be added to the role</p>",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "<pre>{\n    \"result\": true\n}<pre>"
          },
          "401/500": {
            "description": "<pre>{\n  \"isError\": true,\n  \"errorCode\": 401, //--- or 500 depends on error type\n  \"errorMessage\": \"Not authorized\"\n}<pre>"
          }
        }
      },
      "put": {
        "tags": [
          "Auth_Permissions"
        ],
        "summary": "Update a role's permission record",
        "description": "<p>Update a role's permission record Supply a JSON object that contains fields to be updated in body. You need have update permission to the role record (<code>authObject/role/update</code>) in order to access this API.</p>",
        "parameters": [
          {
            "in": "query",
            "name": "roleId",
            "description": "<p>id of the role</p>",
            "required": true,
            "type": "string"
          },
          {
            "in": "query",
            "name": "permissionId",
            "description": "<p>id of the permission record</p>",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "<pre>{\n  id: \"c85a9735-7d85-4d50-a151-c79dec644ba0\",\n  \"name\": \"xxxxx\",\n  \"description\": \"sdfsdfds sdfsdf sdfs\",\n  \"resource_id\": \"1c0889aa-6d4f-4492-9a6f-1ecc4765e8d6\",\n  \"user_ownership_constraint\": true,\n  \"org_unit_ownership_constraint\": false,\n  \"pre_authorised_constraint\": false,\n  \"allow_exemption\": false,\n  \"owner_id\": \"78b37c9b-a59a-4da1-9b84-ac48dff43a1a\",\n  \"create_by\": \"78b37c9b-a59a-4da1-9b84-ac48dff43a1a\",\n  \"create_time\": \"2022-06-03 02:28:34.794547+00\",\n  \"edit_by\": \"78b37c9b-a59a-4da1-9b84-ac48dff43a1a\",\n  \"edit_time\": \"2022-06-03 02:28:34.794547+00\"\n}<pre>"
          },
          "401/404/500": {
            "description": "<pre>{\n  \"isError\": true,\n  \"errorCode\": 401, //--- or 404, 500 depends on error type\n  \"errorMessage\": \"Not authorized\"\n}<pre>"
          }
        }
      }
    },
    "/v0/auth/permissions/:id": {
      "get": {
        "tags": [
          "Auth_Permissions"
        ],
        "summary": "Get permission by ID",
        "description": "<p>return the permission record identified by the ID Required admin access.</p>",
        "parameters": [],
        "responses": {
          "200": {
            "description": "<pre>{\n    id: \"xxx-xxx-xxxx-xxxx-xx\",\n    name: \"View Datasets\",\n    resource_id: \"xxx-xxx-xxxx-xx\",\n    resource_uri: \"object/dataset/draft\",\n    user_ownership_constraint: true,\n    org_unit_ownership_constraint: false,\n    pre_authorised_constraint: false,\n    allow_exemption: false,\n    operations: [{\n      id: \"xxxxx-xxx-xxx-xxxx\",\n      name: \"Read Draft Dataset\",\n      uri: \"object/dataset/draft/read\",\n      description: \"xxxxxx\"\n    }],\n    description?: \"this is a dummy permission\",\n}<pre>"
          },
          "401/500": {
            "description": "<pre>{\n  \"isError\": true,\n  \"errorCode\": 401, //--- or 500 depends on error type\n  \"errorMessage\": \"Not authorized\"\n}<pre>"
          }
        }
      }
    },
    "/v0/auth/roles/:roleId/permissions": {
      "get": {
        "tags": [
          "Auth_Permissions"
        ],
        "summary": "Get all matched permissions of a role",
        "description": "<p>return a list matched permissions of a role. Required <code>authObject/role/read</code> permission to access this API.</p>",
        "parameters": [
          {
            "in": "query",
            "name": "roleId",
            "description": "<p>id of the role</p>",
            "required": true,
            "type": "string"
          },
          {
            "in": "query",
            "name": "keyword",
            "description": "<p>When specified, will return only permissions whose <code>name</code> or <code>description</code> contains the supplied keyword.</p>",
            "required": false,
            "type": "string"
          },
          {
            "in": "query",
            "name": "id",
            "description": "<p>When specified, will return the permission whose <code>id</code> matches the supplied value.</p>",
            "required": false,
            "type": "string"
          },
          {
            "in": "query",
            "name": "owner_id",
            "description": "<p>When specified, will return the permission whose <code>owner_id</code> matches the supplied value.</p>",
            "required": false,
            "type": "string"
          },
          {
            "in": "query",
            "name": "create_by",
            "description": "<p>When specified, will return the permission whose <code>create_by</code> matches the supplied value.</p>",
            "required": false,
            "type": "string"
          },
          {
            "in": "query",
            "name": "edit_by",
            "description": "<p>When specified, will return the permission whose <code>edit_by</code> matches the supplied value.</p>",
            "required": false,
            "type": "string"
          },
          {
            "in": "query",
            "name": "offset",
            "description": "<p>When specified, will return the records from specified offset in the result set.</p>",
            "required": false,
            "type": "number"
          },
          {
            "in": "query",
            "name": "limit",
            "description": "<p>This parameter no.of records to be returned.</p>",
            "required": false,
            "type": "number"
          }
        ],
        "responses": {
          "200": {
            "description": "<pre>[{\n    id: \"xxx-xxx-xxxx-xxxx-xx\",\n    name: \"View Datasets\",\n    resource_id: \"xxx-xxx-xxxx-xx\",\n    resource_uri: \"object/dataset/draft\",\n    user_ownership_constraint: true,\n    org_unit_ownership_constraint: false,\n    pre_authorised_constraint: false,\n    allow_exemption: false,\n    operations: [{\n      id: \"xxxxx-xxx-xxx-xxxx\",\n      name: \"Read Draft Dataset\",\n      uri: \"object/dataset/draft/read\",\n      description: \"xxxxxx\"\n    }],\n    description?: \"this is a dummy permission\",\n}]<pre>"
          },
          "401/500": {
            "description": "<pre>{\n  \"isError\": true,\n  \"errorCode\": 401, //--- or 500 depends on error type\n  \"errorMessage\": \"Not authorized\"\n}<pre>"
          }
        }
      },
      "post": {
        "tags": [
          "Auth_Permissions"
        ],
        "summary": "Create a new permission and add to the role",
        "description": "<p>Create a new permission and add to the role specified by roleId. Returns the newly created permission record. Required <code>authObject/role/update</code> permission to access this API.</p>",
        "parameters": [
          {
            "in": "query",
            "name": "roleId",
            "description": "<p>id of the role</p>",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "<pre>{\n   \"id\": \"e30135df-523f-46d8-99f6-2450fd8d6a37\",\n   \"name\": \"a test permission\",\n   \"user_ownership_constraint\": false,\n   \"org_unit_ownership_constraint\": true,\n   \"pre_authorised_constraint\" : false,\n   \"allow_exemption\": false,\n   \"description\": \"a test permission\",\n   \"resource_id\": \"477d0720-aeda-47bd-8fc9-65badb851f46\",\n   \"owner_id\": \"3535fdad-1804-4614-a9ce-ce196e880238\",\n   \"create_by\": \"3535fdad-1804-4614-a9ce-ce196e880238\",\n   \"edit_time\": \"2022-03-28T10:18:10.479Z\",\n   \"edit_by\": \"3535fdad-1804-4614-a9ce-ce196e880238\",\n   \"edit_time\": \"2022-03-28T10:18:10.479Z\"\n}<pre>"
          },
          "401/500": {
            "description": "<pre>{\n  \"isError\": true,\n  \"errorCode\": 401, //--- or 500 depends on error type\n  \"errorMessage\": \"Not authorized\"\n}<pre>"
          }
        }
      }
    },
    "/v0/auth/roles/:roleId/permissions/count": {
      "get": {
        "tags": [
          "Auth_Permissions"
        ],
        "summary": "Get the count of all matched permissions of a role",
        "description": "<p>return the count number of all matched permissions of a role. Required <code>authObject/role/read</code> permission to access this API.</p>",
        "parameters": [
          {
            "in": "query",
            "name": "roleId",
            "description": "<p>id of the role</p>",
            "required": true,
            "type": "string"
          },
          {
            "in": "query",
            "name": "keyword",
            "description": "<p>When specified, will return only permissions whose <code>name</code> or <code>description</code> contains the supplied keyword.</p>",
            "required": false,
            "type": "string"
          },
          {
            "in": "query",
            "name": "id",
            "description": "<p>When specified, will return the permission whose <code>id</code> matches the supplied value.</p>",
            "required": false,
            "type": "string"
          },
          {
            "in": "query",
            "name": "owner_id",
            "description": "<p>When specified, will return the permission whose <code>owner_id</code> matches the supplied value.</p>",
            "required": false,
            "type": "string"
          },
          {
            "in": "query",
            "name": "create_by",
            "description": "<p>When specified, will return the permission whose <code>create_by</code> matches the supplied value.</p>",
            "required": false,
            "type": "string"
          },
          {
            "in": "query",
            "name": "edit_by",
            "description": "<p>When specified, will return the permission whose <code>edit_by</code> matches the supplied value.</p>",
            "required": false,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "<pre>{\n  \"count\" : 5\n}<pre>"
          },
          "401/500": {
            "description": "<pre>{\n  \"isError\": true,\n  \"errorCode\": 401, //--- or 500 depends on error type\n  \"errorMessage\": \"Not authorized\"\n}<pre>"
          }
        }
      }
    },
    "/v0/auth/users/:userId/permissions": {
      "get": {
        "tags": [
          "Auth_Permissions"
        ],
        "summary": "Get all permissions of a user",
        "description": "<p>Returns an array of permissions. When no permissions can be found, an empty array will be returned. You need have read permission to the user record in order to access this API.</p>",
        "parameters": [],
        "responses": {
          "200": {
            "description": "<pre>[{\n    id: \"xxx-xxx-xxxx-xxxx-xx\",\n    name: \"View Datasets\",\n    resourceId: \"xxx-xxx-xxxx-xx\",\n    resourceId: \"object/dataset/draft\",\n    userOwnershipConstraint: true,\n    orgUnitOwnershipConstraint: false,\n    preAuthorisedConstraint: false,\n    allowExemption: false,\n    operations: [{\n      id: \"xxxxx-xxx-xxx-xxxx\",\n      name: \"Read Draft Dataset\",\n      uri: \"object/dataset/draft/read\",\n      description: \"xxxxxx\"\n    }],\n    permissionIds: [\"xxx-xxx-xxx-xxx-xx\", \"xxx-xx-xxx-xx-xxx-xx\"],\n    description?: \"This is an admin role\",\n}]<pre>"
          },
          "401/500": {
            "description": "<pre>{\n  \"isError\": true,\n  \"errorCode\": 401, //--- or 500 depends on error type\n  \"errorMessage\": \"Not authorized\"\n}<pre>"
          }
        }
      }
    },
    "/v0/auth/permissions": {
      "post": {
        "tags": [
          "Auth_Permissions"
        ],
        "summary": "Create a new permission record",
        "description": "<p>Create a new permission Returns the newly created permission record. Required <code>authObject/permission/create</code> permission to access this API.</p>",
        "parameters": [],
        "responses": {
          "200": {
            "description": "<pre>{\n   \"id\": \"e30135df-523f-46d8-99f6-2450fd8d6a37\",\n   \"name\": \"a test permission\",\n   \"user_ownership_constraint\": false,\n   \"org_unit_ownership_constraint\": true,\n   \"pre_authorised_constraint\" : false,\n   \"allow_exemption\": false,\n   \"description\": \"a test permission\",\n   \"resource_id\": \"477d0720-aeda-47bd-8fc9-65badb851f46\",\n   \"owner_id\": \"3535fdad-1804-4614-a9ce-ce196e880238\",\n   \"create_by\": \"3535fdad-1804-4614-a9ce-ce196e880238\",\n   \"edit_time\": \"2022-03-28T10:18:10.479Z\",\n   \"edit_by\": \"3535fdad-1804-4614-a9ce-ce196e880238\",\n   \"edit_time\": \"2022-03-28T10:18:10.479Z\"\n}<pre>"
          },
          "401/500": {
            "description": "<pre>{\n  \"isError\": true,\n  \"errorCode\": 401, //--- or 500 depends on error type\n  \"errorMessage\": \"Not authorized\"\n}<pre>"
          }
        }
      }
    },
    "/v0/auth/resources/:id": {
      "delete": {
        "tags": [
          "Auth_Resources"
        ],
        "summary": "Delete a resource record",
        "description": "<p>Delete a resource record. When the resource is deleted, any operations that are associated with this resource will be removed as well. However, if there is a permission associated with the resource that is to be deleted, a database error will be thrown.</p> <p>You need <code>authObject/resource/delete</code> permission in order to access this API.</p>",
        "parameters": [
          {
            "in": "query",
            "name": "id",
            "description": "<p>id of the resource</p>",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "<pre>{\n    result: true\n}<pre>"
          },
          "401/500": {
            "description": "<pre>{\n  \"isError\": true,\n  \"errorCode\": 401, //--- or 500 depends on error type\n  \"errorMessage\": \"Not authorized\"\n}<pre>"
          }
        }
      },
      "get": {
        "tags": [
          "Auth_Resources"
        ],
        "summary": "Get a resource record by ID",
        "description": "<p>Get a resource record by ID Required <code>authObject/resource/read</code> permission to access this API.</p>",
        "parameters": [
          {
            "in": "query",
            "name": "id",
            "description": "<p>the resource id.</p>",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "<pre>{\n    \"id\": \"xxx-xxx-xxxx-xxxx-xx\",\n    \"uri\": \"object/record\",\n    \"name\": \"Records\",\n    \"description\": \"A generic concept represents all types of records. \"\n}<pre>"
          },
          "401/500": {
            "description": "<pre>{\n  \"isError\": true,\n  \"errorCode\": 401, //--- or 500 depends on error type\n  \"errorMessage\": \"Not authorized\"\n}<pre>"
          }
        }
      },
      "put": {
        "tags": [
          "Auth_Resources"
        ],
        "summary": "Update a resource record",
        "description": "<p>Update a resource record Supply a JSON object that contains fields to be updated in body. You need have <code>authObject/resource/update</code> permission to access this API.</p>",
        "parameters": [
          {
            "in": "query",
            "name": "id",
            "description": "<p>id of the resource</p>",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "<pre>{\n   \"id\": \"e30135df-523f-46d8-99f6-2450fd8d6a37\",\n   \"uri\": \"object/record\",\n   \"name\": \"Records\",\n   \"description\": \"test description\"\n}<pre>"
          },
          "401/404/500": {
            "description": "<pre>{\n  \"isError\": true,\n  \"errorCode\": 401, //--- or 404, 500 depends on error type\n  \"errorMessage\": \"Not authorized\"\n}<pre>"
          }
        }
      }
    },
    "/v0/auth/resource/count": {
      "get": {
        "tags": [
          "Auth_Resources"
        ],
        "summary": "Get the count of all matched resource records",
        "description": "<p>return the count number of all matched resource records. Required <code>authObject/resource/read</code> permission to access this API.</p>",
        "parameters": [
          {
            "in": "query",
            "name": "keyword",
            "description": "<p>When specified, will return only permissions whose <code>name</code>, <code>description</code> or <code>uri</code> contains the supplied keyword.</p>",
            "required": false,
            "type": "string"
          },
          {
            "in": "query",
            "name": "id",
            "description": "<p>When specified, will return the records whose <code>id</code> matches the supplied value.</p>",
            "required": false,
            "type": "string"
          },
          {
            "in": "query",
            "name": "uri",
            "description": "<p>When specified, will return the records whose <code>uri</code> field matches the supplied value.</p>",
            "required": false,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "<pre>{\n  \"count\" : 5\n}<pre>"
          },
          "401/500": {
            "description": "<pre>{\n  \"isError\": true,\n  \"errorCode\": 401, //--- or 500 depends on error type\n  \"errorMessage\": \"Not authorized\"\n}<pre>"
          }
        }
      }
    },
    "/v0/auth/resources": {
      "get": {
        "tags": [
          "Auth_Resources"
        ],
        "summary": "Get all matched resource records",
        "description": "<p>return a list matched resource records. Required <code>authObject/resource/read</code> permission to access this API.</p>",
        "parameters": [
          {
            "in": "query",
            "name": "keyword",
            "description": "<p>When specified, will return only permissions whose <code>name</code>, <code>description</code> or <code>uri</code> contains the supplied keyword.</p>",
            "required": false,
            "type": "string"
          },
          {
            "in": "query",
            "name": "id",
            "description": "<p>When specified, will return the records whose <code>id</code> matches the supplied value.</p>",
            "required": false,
            "type": "string"
          },
          {
            "in": "query",
            "name": "uri",
            "description": "<p>When specified, will return the records whose <code>uri</code> field matches the supplied value.</p>",
            "required": false,
            "type": "string"
          },
          {
            "in": "query",
            "name": "offset",
            "description": "<p>When specified, will return the records from specified offset in the result set.</p>",
            "required": false,
            "type": "number"
          },
          {
            "in": "query",
            "name": "limit",
            "description": "<p>This parameter no.of records to be returned.</p>",
            "required": false,
            "type": "number"
          }
        ],
        "responses": {
          "200": {
            "description": "<pre>[{\n    \"id\": \"xxx-xxx-xxxx-xxxx-xx\",\n    \"uri\": \"object/record\",\n    \"name\": \"Records\",\n    \"description\": \"A generic concept represents all types of records. Any other derived record types (e.g. datasets) can be considered as generic records with certian aspect data attached. Grant permissions to this resources will allow a user to access any specialized type records (e.g. dataset)\",\n}]<pre>"
          },
          "401/500": {
            "description": "<pre>{\n  \"isError\": true,\n  \"errorCode\": 401, //--- or 500 depends on error type\n  \"errorMessage\": \"Not authorized\"\n}<pre>"
          }
        }
      },
      "post": {
        "tags": [
          "Auth_Resources"
        ],
        "summary": "Create a new resource record.",
        "description": "<p>Create a new resource record. Returns the newly created resource record. Required <code>authObject/resource/create</code> permission to access this API.</p>",
        "parameters": [
          {
            "in": "query",
            "name": "roleId",
            "description": "<p>id of the role</p>",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "<pre>{\n   \"id\": \"e30135df-523f-46d8-99f6-2450fd8d6a37\",\n   \"uri\": \"object/record\",\n   \"name\": \"Records\",\n   \"description\": \"test description\"\n}<pre>"
          },
          "401/500": {
            "description": "<pre>{\n  \"isError\": true,\n  \"errorCode\": 401, //--- or 500 depends on error type\n  \"errorMessage\": \"Not authorized\"\n}<pre>"
          }
        }
      }
    },
    "/v0/auth/resources/byUri/*": {
      "get": {
        "tags": [
          "Auth_Resources"
        ],
        "summary": "Get a resource record by URI",
        "description": "<p>Get a resource record by URI Required <code>authObject/resource/read</code> permission to access this API.</p>",
        "parameters": [
          {
            "in": "query",
            "name": "resUri",
            "description": "<p>the resource uri can be specified at the end of the URI path. e.g. <code>/v0/auth/resources/byUri/object/record</code></p>",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "<pre>{\n    \"id\": \"xxx-xxx-xxxx-xxxx-xx\",\n    \"uri\": \"object/record\",\n    \"name\": \"Records\",\n    \"description\": \"A generic concept represents all types of records. \"\n}<pre>"
          },
          "401/500": {
            "description": "<pre>{\n  \"isError\": true,\n  \"errorCode\": 401, //--- or 500 depends on error type\n  \"errorMessage\": \"Not authorized\"\n}<pre>"
          }
        }
      }
    },
    "/v0/auth/roles/:roleId": {
      "delete": {
        "tags": [
          "Auth_Roles"
        ],
        "summary": "Delete a role record",
        "description": "<p>Delete a role record and any permission (not owned by other roles) belongs to it. You need <code>authObject/role/delete</code> permission in order to access this API.</p>",
        "parameters": [
          {
            "in": "query",
            "name": "roleId",
            "description": "<p>id of the role</p>",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "<pre>{\n    \"result\": true\n}<pre>"
          },
          "401/500": {
            "description": "<pre>{\n  \"isError\": true,\n  \"errorCode\": 401, //--- or 500 depends on error type\n  \"errorMessage\": \"Not authorized\"\n}<pre>"
          }
        }
      },
      "get": {
        "tags": [
          "Auth_Roles"
        ],
        "summary": "Get a role record by ID",
        "description": "<p>Get a role record by ID Required <code>authObject/role/read</code> permission to access this API.</p>",
        "parameters": [
          {
            "in": "query",
            "name": "roleId",
            "description": "<p>id of the role</p>",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "<pre>{\n   \"id\": \"e30135df-523f-46d8-99f6-2450fd8d6a37\",\n   \"name\": \"a test role\",\n   \"description\": \"a test role\",\n   \"owner_id\": \"xxx-xxx-xxxx-xx\",\n   \"create_by\": \"xxx-xxx-xxxx-xx\",\n   \"create_time\": \"2019-04-04 04:20:54.376504+00\",\n   \"edit_by\": \"xxx-xxx-xxxx-xx\",\n   \"edit_time\": \"2019-04-04 04:20:54.376504+00\"\n}<pre>"
          },
          "401/500": {
            "description": "<pre>{\n  \"isError\": true,\n  \"errorCode\": 401, //--- or 500 depends on error type\n  \"errorMessage\": \"Not authorized\"\n}<pre>"
          }
        }
      },
      "put": {
        "tags": [
          "Auth_Roles"
        ],
        "summary": "Update a role record",
        "description": "<p>Update a role's permission record Supply a JSON object that contains fields to be updated in body. You need have <code>authObject/role/update</code> permission in order to access this API.</p>",
        "parameters": [
          {
            "in": "query",
            "name": "roleId",
            "description": "<p>id of the role</p>",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "<pre>{\n   \"id\": \"e30135df-523f-46d8-99f6-2450fd8d6a37\",\n   \"name\": \"a test role\",\n   \"description\": \"a test role\",\n   \"owner_id\": \"xxx-xxx-xxxx-xx\",\n   \"create_by\": \"xxx-xxx-xxxx-xx\",\n   \"create_time\": \"2019-04-04 04:20:54.376504+00\",\n   \"edit_by\": \"xxx-xxx-xxxx-xx\",\n   \"edit_time\": \"2019-04-04 04:20:54.376504+00\"\n}<pre>"
          },
          "401/404/500": {
            "description": "<pre>{\n  \"isError\": true,\n  \"errorCode\": 401, //--- or 404, 500 depends on error type\n  \"errorMessage\": \"Not authorized\"\n}<pre>"
          }
        }
      }
    },
    "/v0/auth/users/:userId/roles": {
      "delete": {
        "tags": [
          "Auth_Roles"
        ],
        "summary": "Remove a list roles from a user",
        "description": "<p>Returns the JSON response indicates the operation has been done successfully or not You need have update permission to the user record in order to access this API.</p>",
        "parameters": [],
        "responses": {
          "200": {
            "description": "<pre>{\n    isError: false\n}<pre>"
          },
          "401/500": {
            "description": "<pre>{\n  \"isError\": true,\n  \"errorCode\": 401, //--- or 500 depends on error type\n  \"errorMessage\": \"Not authorized\"\n}<pre>"
          }
        }
      },
      "get": {
        "tags": [
          "Auth_Roles"
        ],
        "summary": "Get all roles of a user",
        "description": "<p>Returns an array of roles. When no roles can be found, an empty array will be returned You need have read permission to the user record in order to access this API.</p>",
        "parameters": [],
        "responses": {
          "200": {
            "description": "<pre>[{\n    id: \"xxx-xxx-xxxx-xxxx-xx\",\n    name: \"Admin Roles\",\n    permissionIds: [\"xxx-xxx-xxx-xxx-xx\", \"xxx-xx-xxx-xx-xxx-xx\"],\n    description?: \"This is an admin role\"\n}]<pre>"
          },
          "401/500": {
            "description": "<pre>{\n  \"isError\": true,\n  \"errorCode\": 401, //--- or 500 depends on error type\n  \"errorMessage\": \"Not authorized\"\n}<pre>"
          }
        }
      },
      "post": {
        "tags": [
          "Auth_Roles"
        ],
        "summary": "Add Roles to a user",
        "description": "<p>Returns a list of current role ids of the user. You need have update permission to the user record in order to access this API.</p>",
        "parameters": [],
        "responses": {
          "200": {
            "description": "<pre>[\"xxxx-xxxx-xxx-xxx-xx1\", \"xx-xx-xxx-xxxx-xxx2\", \"xx-xx-xxx-xxxx-xxx3\"]<pre>"
          },
          "401/500": {
            "description": "<pre>{\n  \"isError\": true,\n  \"errorCode\": 401, //--- or 500 depends on error type\n  \"errorMessage\": \"Not authorized\"\n}<pre>"
          }
        }
      }
    },
    "/v0/auth/roles": {
      "get": {
        "tags": [
          "Auth_Roles"
        ],
        "summary": "Get role records meet selection criteria",
        "description": "<p>return role records meet selection criteria Required <code>authObject/role/read</code> permission to access this API.</p>",
        "parameters": [
          {
            "in": "query",
            "name": "keyword",
            "description": "<p>When specified, will return only role records whose <code>name</code> or <code>description</code> contains the supplied keyword.</p>",
            "required": false,
            "type": "string"
          },
          {
            "in": "query",
            "name": "id",
            "description": "<p>When specified, will return the records whose <code>id</code> matches the supplied value.</p>",
            "required": false,
            "type": "string"
          },
          {
            "in": "query",
            "name": "owner_id",
            "description": "<p>When specified, will return the records whose <code>owner_id</code> matches the supplied value.</p>",
            "required": false,
            "type": "string"
          },
          {
            "in": "query",
            "name": "create_by",
            "description": "<p>When specified, will return the records whose <code>create_by</code> matches the supplied value.</p>",
            "required": false,
            "type": "string"
          },
          {
            "in": "query",
            "name": "edit_by",
            "description": "<p>When specified, will return the records whose <code>edit_by</code> matches the supplied value.</p>",
            "required": false,
            "type": "string"
          },
          {
            "in": "query",
            "name": "user_id",
            "description": "<p>When specified, will return the records whose <code>user_id</code> matches the supplied value.</p>",
            "required": false,
            "type": "string"
          },
          {
            "in": "query",
            "name": "offset",
            "description": "<p>When specified, will return the records from specified offset in the result set.</p>",
            "required": false,
            "type": "number"
          },
          {
            "in": "query",
            "name": "limit",
            "description": "<p>This parameter no.of records to be returned.</p>",
            "required": false,
            "type": "number"
          }
        ],
        "responses": {
          "200": {
            "description": "<pre>[{\n    id: \"xxx-xxx-xxxx-xxxx-xx\",\n    name: \"test role\",\n    description: \"this is a dummy role\",\n    owner_id: \"xxx-xxx-xxxx-xx\",\n    create_by: \"xxx-xxx-xxxx-xx\",\n    create_time: \"2019-04-04 04:20:54.376504+00\",\n    edit_by: \"xxx-xxx-xxxx-xx\",\n    edit_time: \"2019-04-04 04:20:54.376504+00\"\n}]<pre>"
          },
          "401/500": {
            "description": "<pre>{\n  \"isError\": true,\n  \"errorCode\": 401, //--- or 500 depends on error type\n  \"errorMessage\": \"Not authorized\"\n}<pre>"
          }
        }
      },
      "post": {
        "tags": [
          "Auth_Roles"
        ],
        "summary": "Create a role record",
        "description": "<p>Create a role record Required <code>authObject/role/create</code> permission to access this API.</p>",
        "parameters": [],
        "responses": {
          "200": {
            "description": "<pre>{\n   \"id\": \"e30135df-523f-46d8-99f6-2450fd8d6a37\",\n   \"name\": \"a test role\",\n   \"description\": \"a test role\",\n   \"owner_id\": \"xxx-xxx-xxxx-xx\",\n   \"create_by\": \"xxx-xxx-xxxx-xx\",\n   \"create_time\": \"2019-04-04 04:20:54.376504+00\",\n   \"edit_by\": \"xxx-xxx-xxxx-xx\",\n   \"edit_time\": \"2019-04-04 04:20:54.376504+00\"\n}<pre>"
          },
          "401/500": {
            "description": "<pre>{\n  \"isError\": true,\n  \"errorCode\": 401, //--- or 500 depends on error type\n  \"errorMessage\": \"Not authorized\"\n}<pre>"
          }
        }
      }
    },
    "/v0/auth/roles/count": {
      "get": {
        "tags": [
          "Auth_Roles"
        ],
        "summary": "Get the count of the role records meet selection criteria",
        "description": "<p>return the count of the role records meet selection criteria Required <code>authObject/role/read</code> permission to access this API.</p>",
        "parameters": [
          {
            "in": "query",
            "name": "keyword",
            "description": "<p>When specified, will return only role records whose <code>name</code> or <code>description</code> contains the supplied keyword.</p>",
            "required": false,
            "type": "string"
          },
          {
            "in": "query",
            "name": "id",
            "description": "<p>When specified, will return the records whose <code>id</code> matches the supplied value.</p>",
            "required": false,
            "type": "string"
          },
          {
            "in": "query",
            "name": "owner_id",
            "description": "<p>When specified, will return the records whose <code>owner_id</code> matches the supplied value.</p>",
            "required": false,
            "type": "string"
          },
          {
            "in": "query",
            "name": "create_by",
            "description": "<p>When specified, will return the records whose <code>create_by</code> matches the supplied value.</p>",
            "required": false,
            "type": "string"
          },
          {
            "in": "query",
            "name": "edit_by",
            "description": "<p>When specified, will return the records whose <code>edit_by</code> matches the supplied value.</p>",
            "required": false,
            "type": "string"
          },
          {
            "in": "query",
            "name": "user_id",
            "description": "<p>When specified, will return the records whose <code>user_id</code> matches the supplied value.</p>",
            "required": false,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "<pre>{\n    \"count\": 5\n}<pre>"
          },
          "401/500": {
            "description": "<pre>{\n  \"isError\": true,\n  \"errorCode\": 401, //--- or 500 depends on error type\n  \"errorMessage\": \"Not authorized\"\n}<pre>"
          }
        }
      }
    },
    "/v0/auth/users/:userId": {
      "delete": {
        "tags": [
          "Auth_Users"
        ],
        "summary": "Delete a user record",
        "description": "<p>Delete a user record specified by userId. You need have <code>authObject/user/delete</code> permission in order to access this API. Upon the user record deletion,</p> <ul> <li>any api keys that are created for the user will be removed.</li> <li>any credentials records (if any. e.g. when <a href=\"https://github.com/magda-io/magda-auth-internal\">magda-auth-internal</a> is installed) that are created for the user will be removed.</li> <li>any user role association records will be removed, although the role records themselves will not be removed.</li> <li>owner, editor, creator user id of role, permission &amp; orgUnit records will be set to NULL If you want to implement custom user deletion logic, you should implement it in one of your custom <a href=\"https://github.com/magda-io/magda/blob/main/docs/docs/authentication-plugin-spec.md\">Magda auth plugins</a>. This API will response 200 status when no user is required to be deleted.</li> </ul>",
        "parameters": [
          {
            "in": "query",
            "name": "userId",
            "description": "<p>id of user</p>",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "<pre>{\n    isError: false\n}<pre>"
          },
          "401/404/500": {
            "description": "<pre>{\n  \"isError\": true,\n  \"errorCode\": 401, //--- or 404, 500 depends on error type\n  \"errorMessage\": \"Not authorized\"\n}<pre>"
          }
        }
      },
      "get": {
        "tags": [
          "Auth_Users"
        ],
        "summary": "Get User By Id",
        "description": "<p>Returns user by id. Unlike <code>whoami</code> API endpoint, this API requires <code>authObject/user/read</code> permission.</p>",
        "parameters": [
          {
            "in": "query",
            "name": "userId",
            "description": "<p>id of user</p>",
            "required": true,
            "type": "string"
          },
          {
            "in": "query",
            "name": "allowCache",
            "description": "<p>By default, this API will respond with certain headers to disable any client side cache behaviour. You can opt to supply a string value <code>true</code> for this parameter to stop sending those headers.</p>",
            "required": false,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "<pre>{\n    \"id\":\"...\",\n    \"displayName\":\"Fred Nerk\",\n    \"photoURL\":\"...\",\n    \"OrgUnitId\": \"xxx\"\n    ...\n}<pre>"
          },
          "401/404/500": {
            "description": "<pre>{\n  \"isError\": true,\n  \"errorCode\": 401, //--- or 404, 500 depends on error type\n  \"errorMessage\": \"Not authorized\"\n}<pre>"
          }
        }
      },
      "put": {
        "tags": [
          "Auth_Users"
        ],
        "summary": "Update User By Id",
        "description": "<p>Updates a user's info by Id. Supply a JSON object that contains fields to be updated in body.</p>",
        "parameters": [
          {
            "in": "query",
            "name": "userId",
            "description": "<p>id of user</p>",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "<pre>{\n  id: \"2a92d9e7-9fb8-4fe4-a2d1-13b6bcf1776d\",\n  displayName: \"xxxx\",\n  email: \"sdds@sds.com\",\n  //....\n}<pre>"
          },
          "401/404/500": {
            "description": "<pre>{\n  \"isError\": true,\n  \"errorCode\": 401, //--- or 404, 500 depends on error type\n  \"errorMessage\": \"Not authorized\"\n}<pre>"
          }
        }
      }
    },
    "/private/users/lookup": {
      "get": {
        "tags": [
          "Auth_Users"
        ],
        "summary": "Lookup User",
        "description": "<p>Lookup user by <code>source</code> &amp; <code>sourceId</code>. require unconditional <code>authObject/user/read</code> permission to access.</p>",
        "parameters": [
          {
            "in": "query",
            "name": "source",
            "description": "<p>The source string of user record to be fetched</p>",
            "required": true,
            "type": "string"
          },
          {
            "in": "query",
            "name": "sourceId",
            "description": "<p>The sourceId of user record to be fetched</p>",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "<pre>{\n    \"id\":\"...\",\n    \"displayName\":\"Fred Nerk\",\n    \"photoURL\":\"...\",\n    \"OrgUnitId\": \"xxx\"\n    ...\n}<pre>"
          },
          "401/404/500": {
            "description": "<pre>{\n  \"isError\": true,\n  \"errorCode\": 401, //--- or 404, 500 depends on error type\n  \"errorMessage\": \"Not authorized\"\n}<pre>"
          }
        }
      }
    },
    "/private/users/:userId": {
      "get": {
        "tags": [
          "Auth_Users"
        ],
        "summary": "Get User by Id (Private)",
        "description": "<p>Get user record by user id. This api is only available within cluster (i.e. it's not available via gateway). require unconditional <code>authObject/user/read</code> permission to access.</p>",
        "parameters": [
          {
            "in": "query",
            "name": "userId",
            "description": "<p>the id of the user</p>",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "<pre>{\n    \"id\":\"...\",\n    \"displayName\":\"Fred Nerk\",\n    \"photoURL\":\"...\",\n    \"OrgUnitId\": \"xxx\"\n    ...\n}<pre>"
          },
          "401/404/500": {
            "description": "<pre>{\n  \"isError\": true,\n  \"errorCode\": 401, //--- or 404, 500 depends on error type\n  \"errorMessage\": \"Not authorized\"\n}<pre>"
          }
        }
      }
    },
    "/v0/auth/roles/:roleId/users": {
      "get": {
        "tags": [
          "Auth_Users"
        ],
        "summary": "Get all matched users with a role",
        "description": "<p>return a list matched users who have a certain role Required <code>authObject/user/read</code> permission to access this API. If you don't have access to any users, empty array will be returned.</p>",
        "parameters": [
          {
            "in": "query",
            "name": "roleId",
            "description": "<p>id of the role</p>",
            "required": true,
            "type": "string"
          },
          {
            "in": "query",
            "name": "offset",
            "description": "<p>The index of the first record in the result set to retrieve.</p>",
            "required": false,
            "type": "number"
          },
          {
            "in": "query",
            "name": "limit",
            "description": "<p>The maximum number of records of the result set to receive. If not present, a default value of 500 will be used.</p>",
            "required": false,
            "type": "number"
          },
          {
            "in": "query",
            "name": "keyword",
            "description": "<p>When set, will only return user records whose &quot;displayName&quot;, &quot;email&quot; or &quot;source&quot; field contains the specified keyword.</p>",
            "required": false,
            "type": "string"
          },
          {
            "in": "query",
            "name": "id",
            "description": "<p>When set, will only return records whose id is the specified ID.</p>",
            "required": false,
            "type": "string"
          },
          {
            "in": "query",
            "name": "source",
            "description": "<p>When set, will only return records whose source is the specified source name.</p>",
            "required": false,
            "type": "string"
          },
          {
            "in": "query",
            "name": "sourceId",
            "description": "<p>When set, will only return records whose sourceId is the specified source ID.</p>",
            "required": false,
            "type": "string"
          },
          {
            "in": "query",
            "name": "orgUnitId",
            "description": "<p>When set, will only return records whose orgUnitId is the specified org unit id.</p>",
            "required": false,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "<pre>[{\n    \"id\":\"...\",\n    \"displayName\":\"Fred Nerk\",\n    \"email\":\"fred.nerk@data61.csiro.au\",\n    \"photoURL\":\"...\",\n    \"source\":\"google\",\n    \"orgUnitId\": \"...\"\n}]<pre>"
          },
          "401/500": {
            "description": "<pre>{\n  \"isError\": true,\n  \"errorCode\": 401, //--- or 500 depends on error type\n  \"errorMessage\": \"Not authorized\"\n}<pre>"
          }
        }
      }
    },
    "/v0/auth/roles/:roleId/users/count": {
      "get": {
        "tags": [
          "Auth_Users"
        ],
        "summary": "Get the count of all matched users with a role",
        "description": "<p>return the count number of all matched users who have a certain role Required <code>authObject/user/read</code> permission to access this API. If you don't have access to any users, 0 count will be returned.</p>",
        "parameters": [
          {
            "in": "query",
            "name": "roleId",
            "description": "<p>id of the role</p>",
            "required": true,
            "type": "string"
          },
          {
            "in": "query",
            "name": "keyword",
            "description": "<p>When set, will only return user records whose &quot;displayName&quot;, &quot;email&quot; or &quot;source&quot; field contains the specified keyword.</p>",
            "required": false,
            "type": "string"
          },
          {
            "in": "query",
            "name": "id",
            "description": "<p>When set, will only return records whose id is the specified ID.</p>",
            "required": false,
            "type": "string"
          },
          {
            "in": "query",
            "name": "source",
            "description": "<p>When set, will only return records whose source is the specified source name.</p>",
            "required": false,
            "type": "string"
          },
          {
            "in": "query",
            "name": "sourceId",
            "description": "<p>When set, will only return records whose sourceId is the specified source ID.</p>",
            "required": false,
            "type": "string"
          },
          {
            "in": "query",
            "name": "orgUnitId",
            "description": "<p>When set, will only return records whose orgUnitId is the specified org unit id.</p>",
            "required": false,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "<pre>{\n  \"count\" : 5\n}<pre>"
          },
          "401/500": {
            "description": "<pre>{\n  \"isError\": true,\n  \"errorCode\": 401, //--- or 500 depends on error type\n  \"errorMessage\": \"Not authorized\"\n}<pre>"
          }
        }
      }
    },
    "/v0/auth/users": {
      "get": {
        "tags": [
          "Auth_Users"
        ],
        "summary": "Get users",
        "description": "<p>Returns a list users that meet query parameters and the current user is allowed to access.</p>",
        "parameters": [
          {
            "in": "query",
            "name": "offset",
            "description": "<p>The index of the first record in the result set to retrieve.</p>",
            "required": false,
            "type": "number"
          },
          {
            "in": "query",
            "name": "limit",
            "description": "<p>The maximum number of records of the result set to receive. If not present, a default value of 500 will be used.</p>",
            "required": false,
            "type": "number"
          },
          {
            "in": "query",
            "name": "keyword",
            "description": "<p>When set, will only return user records whose &quot;displayName&quot;, &quot;email&quot; or &quot;source&quot; field contains the specified keyword.</p>",
            "required": false,
            "type": "string"
          },
          {
            "in": "query",
            "name": "id",
            "description": "<p>When set, will only return records whose id is the specified ID.</p>",
            "required": false,
            "type": "string"
          },
          {
            "in": "query",
            "name": "source",
            "description": "<p>When set, will only return records whose source is the specified source name.</p>",
            "required": false,
            "type": "string"
          },
          {
            "in": "query",
            "name": "sourceId",
            "description": "<p>When set, will only return records whose sourceId is the specified source ID.</p>",
            "required": false,
            "type": "string"
          },
          {
            "in": "query",
            "name": "orgUnitId",
            "description": "<p>When set, will only return records whose orgUnitId is the specified org unit id.</p>",
            "required": false,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "<pre>[{\n    \"id\":\"...\",\n    \"displayName\":\"Fred Nerk\",\n    \"email\":\"fred.nerk@data61.csiro.au\",\n    \"photoURL\":\"...\",\n    \"source\":\"google\",\n    \"orgUnitId\": \"...\"\n}]<pre>"
          },
          "401/500": {
            "description": "<pre>{\n  \"isError\": true,\n  \"errorCode\": 401, //--- or 500 depends on error type\n  \"errorMessage\": \"Not authorized\"\n}<pre>"
          }
        }
      },
      "post": {
        "tags": [
          "Auth_Users"
        ],
        "summary": "Create a new user",
        "description": "<p>Create a new user Supply a JSON object that contains fields of the new user in body.</p>",
        "parameters": [],
        "responses": {
          "200": {
            "description": "<pre>{\n  id: \"2a92d9e7-9fb8-4fe4-a2d1-13b6bcf1776d\",\n  displayName: \"xxxx\",\n  email: \"sdds@sds.com\",\n  //....\n}<pre>"
          },
          "401/404/500": {
            "description": "<pre>{\n  \"isError\": true,\n  \"errorCode\": 401, //--- or 404, 500 depends on error type\n  \"errorMessage\": \"Not authorized\"\n}<pre>"
          }
        }
      }
    },
    "/v0/auth/users/all": {
      "get": {
        "tags": [
          "Auth_Users"
        ],
        "summary": "Get all users",
        "description": "<p>Returns all users.</p>",
        "parameters": [],
        "responses": {
          "200": {
            "description": "<pre>[{\n    \"id\":\"...\",\n    \"displayName\":\"Fred Nerk\",\n    \"email\":\"fred.nerk@data61.csiro.au\",\n    \"photoURL\":\"...\",\n    \"source\":\"google\",\n    \"roles\": [{\n      id\": \"...\",\n      name: \"Authenticated Users\",\n      permissionIds: [\"e5ce2fc4-9f38-4f52-8190-b770ed2074e\", \"a4a34ab4-67be-4806-a8de-f7e3c5d452f0\"]\n    }]\n}]<pre>"
          },
          "401/500": {
            "description": "<pre>{\n  \"isError\": true,\n  \"errorCode\": 401, //--- or 500 depends on error type\n  \"errorMessage\": \"Not authorized\"\n}<pre>"
          }
        }
      }
    },
    "/v0/auth/users/count": {
      "get": {
        "tags": [
          "Auth_Users"
        ],
        "summary": "Get user records count",
        "description": "<p>Returns the count of users that meet query parameters and the current user is allowed to access. This API offers the similar functionality as <code>/v0/auth/users</code> API, except only return the records count number.</p>",
        "parameters": [
          {
            "in": "query",
            "name": "keyword",
            "description": "<p>When set, will only return user records whose &quot;displayName&quot;, &quot;email&quot; or &quot;source&quot; field contains the specified keyword.</p>",
            "required": false,
            "type": "string"
          },
          {
            "in": "query",
            "name": "id",
            "description": "<p>When set, will only return records whose id is the specified ID.</p>",
            "required": false,
            "type": "string"
          },
          {
            "in": "query",
            "name": "source",
            "description": "<p>When set, will only return records whose source is the specified source name.</p>",
            "required": false,
            "type": "string"
          },
          {
            "in": "query",
            "name": "sourceId",
            "description": "<p>When set, will only return records whose sourceId is the specified source ID.</p>",
            "required": false,
            "type": "string"
          },
          {
            "in": "query",
            "name": "orgUnitId",
            "description": "<p>When set, will only return records whose orgUnitId is the specified org unit id.</p>",
            "required": false,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "<pre>{\n    \"count\": 3\n}<pre>"
          },
          "401/500": {
            "description": "<pre>{\n  \"isError\": true,\n  \"errorCode\": 401, //--- or 500 depends on error type\n  \"errorMessage\": \"Not authorized\"\n}<pre>"
          }
        }
      }
    },
    "/v0/auth/users/whoami": {
      "get": {
        "tags": [
          "Auth_Users"
        ],
        "summary": "Get Current User Info (whoami)",
        "description": "<p>Returns the user info of the current user. If the user has not logged in yet, the user will be considered as an anonymous user.</p>",
        "parameters": [
          {
            "in": "query",
            "name": "allowCache",
            "description": "<p>By default, this API will respond with certain headers to disable any client side cache behaviour. You can opt to supply a string value <code>true</code> for this parameter to stop sending those headers.</p>",
            "required": false,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "<pre>{\n    \"id\":\"...\",\n    \"displayName\":\"Fred Nerk\",\n    \"email\":\"fred.nerk@data61.csiro.au\",\n    \"photoURL\":\"...\",\n    \"source\":\"google\"\n}<pre>"
          },
          "401/500": {
            "description": "<pre>{\n  \"isError\": true,\n  \"errorCode\": 401, //--- or 500 depends on error type\n  \"errorMessage\": \"Not authorized\"\n}<pre>"
          }
        }
      }
    },
    "/private/users": {
      "post": {
        "tags": [
          "Auth_Users"
        ],
        "summary": "Create a new user (private)",
        "description": "<p>Create a new user record. Supply a JSON object that contains fields of the new user in body. This api is only available within cluster (i.e. it's not available via gateway). require unconditional <code>authObject/user/create</code> permission to access.</p>",
        "parameters": [],
        "responses": {
          "200": {
            "description": "<pre>{\n  id: \"2a92d9e7-9fb8-4fe4-a2d1-13b6bcf1776d\",\n  displayName: \"xxxx\",\n  email: \"sdds@sds.com\",\n  //....\n}<pre>"
          },
          "401/404/500": {
            "description": "<pre>{\n  \"isError\": true,\n  \"errorCode\": 401, //--- or 404, 500 depends on error type\n  \"errorMessage\": \"Not authorized\"\n}<pre>"
          }
        }
      }
    },
    "https://<host>/auth/logout": {
      "get": {
        "tags": [
          "Authentication_API"
        ],
        "summary": "Explicitly logout current user session",
        "description": "<p>Returns result of logout action. This endpoint implements the behaviour that is described in <a href=\"https://github.com/magda-io/magda/blob/master/docs/docs/authentication-plugin-spec.md#get-logout-endpoint-optional\">this doc</a> in order to support auth plugin logout process. When the <code>redirect</code> query parameter does not present, this middleware should be compatible with the behaviour prior to version 0.0.60. i.e.:</p> <ul> <li>Turn off Magda session only without forwarding any requests to auth plugins</li> <li>Response a JSON response (that indicates the outcome of the logout action) instead of redirect users. This endpoint is only available when gateway <code>enableAuthEndpoint</code>=true</li> </ul>",
        "parameters": [],
        "responses": {
          "200": {
            "description": "<pre>{\n    \"isError\": false\n}<pre>"
          },
          "500": {
            "description": "<pre>{\n    \"isError\": true,\n    \"errorCode\": 500,\n    \"errorMessage\": \"xxxxxx\"\n}<pre>"
          }
        }
      }
    },
    "https://<host>/auth/plugins": {
      "get": {
        "tags": [
          "Authentication_API"
        ],
        "summary": "Get the list of available authentication plugins",
        "description": "<p>Returns all installed authentication plugins. This endpoint is only available when gateway <code>enableAuthEndpoint</code>=true</p>",
        "parameters": [],
        "responses": {
          "200": {
            "description": "<pre>[{\n    \"key\":\"google\",\n    \"name\":\"Google\",\n    \"iconUrl\":\"http://xxx/sds/sds.jpg\",\n    \"authenticationMethod\": \"IDP-URI-REDIRECTION\"\n}]<pre>"
          }
        }
      }
    },
    "/v0/admin/connectors/:id": {
      "delete": {
        "tags": [
          "Connectors"
        ],
        "summary": "Delete the connector by ID",
        "description": "<p>Delete the connector by ID Require permission of <code>object/connector/delete</code> to access this API. Please note: you cannot delete a connector if it's deployed &amp; managed as part of Helm Charts.</p>",
        "parameters": [
          {
            "in": "query",
            "name": "id",
            "description": "<p>Connector ID</p>",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {}
      },
      "get": {
        "tags": [
          "Connectors"
        ],
        "summary": "Get the connector by ID",
        "description": "<p>Get the connector detailed information by ID Require permission of <code>object/connector/read</code> to access this API</p>",
        "parameters": [],
        "responses": {}
      },
      "put": {
        "tags": [
          "Connectors"
        ],
        "summary": "Update the connector by ID",
        "description": "<p>Update the connector by ID Require permission of <code>object/connector/update</code> to access this API. Please note: you cannot update a connector if it's deployed &amp; managed as part of Helm Charts.</p>",
        "parameters": [
          {
            "in": "query",
            "name": "id",
            "description": "<p>Connector ID</p>",
            "required": true,
            "type": "string"
          },
          {
            "in": "body",
            "name": "body",
            "description": "Request body",
            "required": true,
            "schema": {
              "type": "object",
              "properties": {
                "name": {
                  "type": "string",
                  "description": "<p>Connector name</p>"
                },
                "sourceUrl": {
                  "type": "string",
                  "description": "<p>Connector sourceUrl</p>"
                },
                "pageSize": {
                  "type": "number",
                  "description": "<p>Connector pageSize</p>"
                },
                "schedule": {
                  "type": "string",
                  "description": "<p>Connector schedule string in crontab format and in UTC timezone.</p>"
                },
                "ignoreHarvestSources": {
                  "type": "string[]",
                  "description": "<p>Make connector to ignore datasets from certain sources. Not all connector types &amp; sources support this setting.</p>"
                },
                "allowedOrganisationNames": {
                  "type": "string[]",
                  "description": "<p>Make connector to ignore datasets from certain organisations. Not all connector types &amp; sources support this setting.</p>"
                },
                "ignoreOrganisationNames": {
                  "type": "string[]",
                  "description": "<p>Make connector to ignore datasets from certain organisations. Not all connector types &amp; sources support this setting.</p>"
                },
                "extras": {
                  "type": "object",
                  "description": "<p>Some predefined extra data to be attached to the <code>source</code> aspect of all harvested dataset.</p>"
                },
                "presetRecordAspects": {
                  "type": "object",
                  "description": "<p>the config setting that makes connector write predefined data to selected record type's selected aspect.</p>"
                },
                "presetRecordAspects.id": {
                  "type": "string",
                  "description": "<p>the ID of the aspect where the predefined data written to.</p>"
                },
                "presetRecordAspects.recordType": {
                  "type": "string",
                  "description": "<p>the record type where the predefined data written to. Possible value: &quot;Organization&quot; | &quot;Dataset&quot; | &quot;Distribution&quot;;</p>"
                },
                "presetRecordAspects.opType": {
                  "type": "string",
                  "description": "<p>operation type; Describe how to add the aspect to the record</p> <ul> <li>MERGE_LEFT: merge <code>presetAspect</code> with records aspects. i.e. <code>presetAspect</code> will be overwritten by records aspects data if any</li> <li>MEREG_RIGHT: merge records aspects with <code>presetAspect</code>. i.e. records aspects data (if any) will be overwritten by <code>presetAspect</code></li> <li>REPLACE: <code>presetAspect</code> will replace any existing records aspect</li> <li>FILL: <code>presetAspect</code> will be added if no existing aspect Default value (If not specified) will be <code>MERGE_LEFT</code></li> </ul>"
                },
                "presetRecordAspects.data": {
                  "type": "object",
                  "description": "<p>The extra aspect data to be applied to the selected aspect of selected records.</p>"
                }
              }
            }
          }
        ],
        "responses": {}
      }
    },
    "/v0/admin/connectors": {
      "get": {
        "tags": [
          "Connectors"
        ],
        "summary": "Get the list of all connectors",
        "description": "<p>Get the list of all connectors. Require permission of <code>object/connector/read</code> to access this API</p>",
        "parameters": [],
        "responses": {}
      },
      "post": {
        "tags": [
          "Connectors"
        ],
        "summary": "Create a new connector",
        "description": "<p>Create a new connector Require permission of <code>object/connector/create</code> to access this API.</p>",
        "parameters": [
          {
            "in": "body",
            "name": "body",
            "description": "Request body",
            "required": true,
            "schema": {
              "type": "object",
              "properties": {
                "id": {
                  "type": "string",
                  "description": "<p>Connector ID</p>"
                },
                "dockerImageString": {
                  "type": "string",
                  "description": "<p>the full docker image string of the connector including docker repository, image name &amp; tag. e.g. <code>ghcr.io/magda-io/magda-ckan-connector:2.1.0</code> When <code>dockerImageString</code> is provided, <code>dockerImageName</code> field will not be used.</p>"
                },
                "dockerImageName": {
                  "type": "string",
                  "description": "<p>The docker image name of the connector. e.g. <code>magda-ckan-connector</code>. System will pull docker image from configured docker repository &amp; image tag (configurable via magda-admin-api helm chart). <code>dockerImageName</code> will only be used when <code>dockerImageString</code> is not supplied.</p>"
                },
                "name": {
                  "type": "string",
                  "description": "<p>Connector name</p>"
                },
                "sourceUrl": {
                  "type": "string",
                  "description": "<p>Connector sourceUrl</p>"
                },
                "pageSize": {
                  "type": "number",
                  "description": "<p>Connector pageSize</p>"
                },
                "schedule": {
                  "type": "string",
                  "description": "<p>Connector schedule string in crontab format and in UTC timezone.</p>"
                },
                "ignoreHarvestSources": {
                  "type": "string[]",
                  "description": "<p>Make connector to ignore datasets from certain sources. Not all connector types &amp; sources support this setting.</p>"
                },
                "allowedOrganisationNames": {
                  "type": "string[]",
                  "description": "<p>Make connector to ignore datasets from certain organisations. Not all connector types &amp; sources support this setting.</p>"
                },
                "ignoreOrganisationNames": {
                  "type": "string[]",
                  "description": "<p>Make connector to ignore datasets from certain organisations. Not all connector types &amp; sources support this setting.</p>"
                },
                "extras": {
                  "type": "object",
                  "description": "<p>Some predefined extra data to be attached to the <code>source</code> aspect of all harvested dataset.</p>"
                },
                "presetRecordAspects": {
                  "type": "object",
                  "description": "<p>the config setting that makes connector write predefined data to selected record type's selected aspect.</p>"
                },
                "presetRecordAspects.id": {
                  "type": "string",
                  "description": "<p>the ID of the aspect where the predefined data written to.</p>"
                },
                "presetRecordAspects.recordType": {
                  "type": "string",
                  "description": "<p>the record type where the predefined data written to. Possible value: &quot;Organization&quot; | &quot;Dataset&quot; | &quot;Distribution&quot;;</p>"
                },
                "presetRecordAspects.opType": {
                  "type": "string",
                  "description": "<p>operation type; Describe how to add the aspect to the record</p> <ul> <li>MERGE_LEFT: merge <code>presetAspect</code> with records aspects. i.e. <code>presetAspect</code> will be overwritten by records aspects data if any</li> <li>MEREG_RIGHT: merge records aspects with <code>presetAspect</code>. i.e. records aspects data (if any) will be overwritten by <code>presetAspect</code></li> <li>REPLACE: <code>presetAspect</code> will replace any existing records aspect</li> <li>FILL: <code>presetAspect</code> will be added if no existing aspect Default value (If not specified) will be <code>MERGE_LEFT</code></li> </ul>"
                },
                "presetRecordAspects.data": {
                  "type": "object",
                  "description": "<p>The extra aspect data to be applied to the selected aspect of selected records.</p>"
                }
              },
              "required": [
                "id",
                "dockerImageString",
                "dockerImageName"
              ]
            }
          }
        ],
        "responses": {}
      }
    },
    "/v0/admin/connectors/:id/start": {
      "post": {
        "tags": [
          "Connectors"
        ],
        "summary": "Start the connector by ID",
        "description": "<p>Start the connector by ID Require permission of <code>object/connector/update</code> to access this API. The API will set the <code>suspend</code> field of the connector cronjob to <code>false</code>.</p>",
        "parameters": [
          {
            "in": "query",
            "name": "id",
            "description": "<p>Connector ID</p>",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {}
      }
    },
    "/v0/admin/connectors/:id/stop": {
      "post": {
        "tags": [
          "Connectors"
        ],
        "summary": "Stop the connector by ID",
        "description": "<p>Stop the connector by ID Require permission of <code>object/connector/update</code> to access this API. The API will set the <code>suspend</code> field of the connector cronjob to <code>true</code>.</p>",
        "parameters": [
          {
            "in": "query",
            "name": "id",
            "description": "<p>Connector ID</p>",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {}
      }
    },
    "/v0/content/:contentId": {
      "delete": {
        "tags": [
          "Content"
        ],
        "summary": "Delete Content",
        "description": "<p>Delete content by content id. Must be an admin. Only available for contents with wildcard ids.</p>",
        "parameters": [
          {
            "in": "query",
            "name": "contentId",
            "description": "<p>id of content item</p>",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "<pre>{\n     \"result\": \"SUCCESS\"\n}<pre>"
          }
        }
      },
      "get": {
        "tags": [
          "Content"
        ],
        "summary": "Get Content",
        "description": "<p>Returns content by content id.</p>",
        "parameters": [
          {
            "in": "query",
            "name": "contentId",
            "description": "<p>id of content item You can opt to supply optional extension name for the content you request. The extension name will be used to override the default output form of the content, if a proper mime type can be located for the extension name. e.g. suppose we have a content id: <code>header/logo</code> If we request <code>{get} /v0/content/header/logo</code> (without extension), the api will respond in binary as it's an image. If we request <code>{get} /v0/content/header/logo.txt</code>, the api will respond in based64 text.</p>",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "<pre>Content in format requested<pre>"
          },
          "404": {
            "description": "<pre>{\n     \"result\": \"FAILED\"\n}<pre>"
          },
          "500": {
            "description": "<pre>{\n     \"result\": \"FAILED\"\n}<pre>"
          }
        }
      },
      "put": {
        "tags": [
          "Content"
        ],
        "summary": "Update Content",
        "description": "<p>Update content by id</p>",
        "parameters": [
          {
            "in": "query",
            "name": "contentId",
            "description": "<p>id of content item</p>",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "<pre>{\n     \"result\": \"SUCCESS\"\n}<pre>"
          },
          "400": {
            "description": "<pre>{\n     \"result\": \"FAILED\"\n}<pre>"
          }
        }
      }
    },
    "/v0/content/all": {
      "post": {
        "tags": [
          "Content"
        ],
        "summary": "Get All",
        "description": "<p>Get a list of content items and their type.</p>",
        "parameters": [
          {
            "in": "query",
            "name": "id",
            "description": "<p>filter content id by this wildcard pattern. For example: &quot;id=header/<em>&amp;id=footer/</em>&quot;. Can specify multiple.</p>",
            "required": true,
            "type": "string"
          },
          {
            "in": "query",
            "name": "type",
            "description": "<p>filter content mime type by this wildcard pattern. For example: &quot;type=application/*&quot;. Can specify multiple.</p>",
            "required": true,
            "type": "string"
          },
          {
            "in": "query",
            "name": "inline",
            "description": "<p>flag to specify if content should be inlined. Only application/json mime type content is supported now.</p>",
            "required": true,
            "type": "boolean"
          }
        ],
        "responses": {
          "200": {
            "description": "<pre>[\n    {\n        \"id\": ...\n        \"type\": ...\n        \"length\": ...\n        \"content\": ...\n    },\n    ...\n]<pre>"
          }
        }
      }
    },
    "/v0/correspondence/send/dataset/:datasetId/question": {
      "post": {
        "tags": [
          "Correspondence_API"
        ],
        "summary": "Send a question about a dataest",
        "description": "<p>Sends a question about a dataset to the data custodian if available, and to the administrators if not</p>",
        "parameters": [
          {
            "in": "body",
            "name": "body",
            "description": "Request body",
            "required": true,
            "schema": {
              "type": "object",
              "properties": {
                "senderName": {
                  "type": "string",
                  "description": "<p>The name of the sender</p>"
                },
                "senderEmail": {
                  "type": "string",
                  "description": "<p>The email address of the sender</p>"
                },
                "message": {
                  "type": "string",
                  "description": "<p>The message to send</p>"
                }
              },
              "required": [
                "senderName",
                "senderEmail",
                "message"
              ]
            }
          }
        ],
        "responses": {
          "200": {
            "description": "<pre>{\n     \"status\": \"OK\",\n     \"recipient\": \"xx@xx.com\",\n     \"sentToDefaultRecipient\": false\n}<pre>"
          },
          "400": {
            "description": "<pre>{\n     \"status\": \"Failed\"\n}<pre>"
          }
        }
      }
    },
    "/v0/correspondence/send/dataset/request": {
      "post": {
        "tags": [
          "Correspondence_API"
        ],
        "summary": "Send Dataset Request",
        "description": "<p>Sends a request for a dataset to the site administrators</p>",
        "parameters": [
          {
            "in": "body",
            "name": "body",
            "description": "Request body",
            "required": true,
            "schema": {
              "type": "object",
              "properties": {
                "senderName": {
                  "type": "string",
                  "description": "<p>The name of the sender</p>"
                },
                "senderEmail": {
                  "type": "string",
                  "description": "<p>The email address of the sender</p>"
                },
                "message": {
                  "type": "string",
                  "description": "<p>The message to send</p>"
                }
              },
              "required": [
                "senderName",
                "senderEmail",
                "message"
              ]
            }
          }
        ],
        "responses": {
          "200": {
            "description": "<pre>{\n     \"status\": \"OK\",\n     \"recipient\": \"xx@xx.com\",\n     \"sentToDefaultRecipient\": false\n}<pre>"
          },
          "400": {
            "description": "<pre>{\n     \"status\": \"Failed\"\n}<pre>"
          }
        }
      }
    },
    "/v0/openfaas/system/functions": {
      "delete": {
        "tags": [
          "FaaS_Function"
        ],
        "summary": "Delete a function",
        "description": "<p>Delete a deployed function You need <code>object/faas/function/delete</code> permission in order to access this API.</p>",
        "parameters": [],
        "responses": {
          "200": {
            "description": "<pre>HTTP/1.1 200 Accepted<pre>"
          },
          "400": {
            "description": "<pre>HTTP/1.1 400 Bad Request<pre>"
          },
          "403": {
            "description": "<pre>you are not permitted to perform `object/faas/function/delete` on required resources<pre>"
          },
          "404": {
            "description": "<pre>HTTP/1.1 404 Not Found<pre>"
          },
          "500": {
            "description": "<pre>HTTP/1.1 500 Internal Server Error<pre>"
          }
        }
      },
      "get": {
        "tags": [
          "FaaS_Function"
        ],
        "summary": "Get the info of all deployed functions",
        "description": "<p>Returns a list of deployed FaaS functions You need <code>object/faas/function/read</code> permission in order to access this API.</p>",
        "parameters": [],
        "responses": {
          "200": {
            "description": "<pre>[\n   {\n       \"name\": \"nodeinfo\",\n       \"image\": \"functions/nodeinfo:latest\",\n       \"invocationCount\": 1337,\n       \"replicas\": 2,\n       \"availableReplicas\": 2,\n       \"envProcess\": \"node main.js\",\n       \"labels\": {\n         \"foo\": \"bar\"\n       },\n       \"annotations\": {\n         \"topics\": \"awesome-kafka-topic\",\n         \"foo\": \"bar\"\n       }\n   }\n]<pre>"
          },
          "403": {
            "description": "<pre>you are not permitted to perform `object/faas/function/read` on required resources<pre>"
          },
          "500": {
            "description": "<pre>HTTP/1.1 500 Internal Server Error<pre>"
          }
        }
      },
      "post": {
        "tags": [
          "FaaS_Function"
        ],
        "summary": "Create/Deploy a function",
        "description": "<p>Create/Deploy a function You need <code>object/faas/function/create</code> permission in order to access this API. You can also deploy FaaS function as the part of Magda deployment as a Helm Chart. Please see <a href=\"https://github.com/magda-io/magda-function-template\">magda-function-template</a></p>",
        "parameters": [],
        "responses": {
          "202": {
            "description": "<pre>HTTP/1.1 202 Accepted<pre>"
          },
          "400": {
            "description": "<pre>HTTP/1.1 400 Bad Request<pre>"
          },
          "403": {
            "description": "<pre>you are not permitted to perform `object/faas/function/create` on required resources<pre>"
          },
          "500": {
            "description": "<pre>HTTP/1.1 500 Internal Server Error<pre>"
          }
        }
      },
      "put": {
        "tags": [
          "FaaS_Function"
        ],
        "summary": "Update a function",
        "description": "<p>Update a deployed function You need <code>object/faas/function/update</code> permission in order to access this API.</p>",
        "parameters": [],
        "responses": {
          "200": {
            "description": "<pre>HTTP/1.1 200 Accepted<pre>"
          },
          "400": {
            "description": "<pre>HTTP/1.1 400 Bad Request<pre>"
          },
          "403": {
            "description": "<pre>you are not permitted to perform `object/faas/function/update` on required resources<pre>"
          },
          "404": {
            "description": "<pre>HTTP/1.1 404 Not Found<pre>"
          },
          "500": {
            "description": "<pre>HTTP/1.1 500 Internal Server Error<pre>"
          }
        }
      }
    },
    "/v0/openfaas/system/function/:functionName": {
      "get": {
        "tags": [
          "FaaS_Function"
        ],
        "summary": "Get the info of a deployed function",
        "description": "<p>Returns the info of a deployed function You need <code>object/faas/function/read</code> permission in order to access this API.</p>",
        "parameters": [
          {
            "in": "query",
            "name": "functionName",
            "description": "<p>the name of the function</p>",
            "required": true,
            "type": "Number"
          }
        ],
        "responses": {
          "200": {
            "description": "<pre>{\n    \"name\": \"nodeinfo\",\n    \"image\": \"functions/nodeinfo:latest\",\n    \"invocationCount\": 1337,\n    \"replicas\": 2,\n    \"availableReplicas\": 2,\n    \"envProcess\": \"node main.js\",\n    \"labels\": {\n      \"foo\": \"bar\"\n    },\n    \"annotations\": {\n      \"topics\": \"awesome-kafka-topic\",\n      \"foo\": \"bar\"\n    }\n}<pre>"
          },
          "403": {
            "description": "<pre>you are not permitted to perform `object/faas/function/read` on required resources<pre>"
          },
          "404": {
            "description": "<pre>HTTP/1.1 404 Not Found<pre>"
          },
          "500": {
            "description": "<pre>HTTP/1.1 500 Internal Server Error<pre>"
          }
        }
      }
    },
    "/v0/openfaas/async-function/:functionName": {
      "post": {
        "tags": [
          "FaaS_Function"
        ],
        "summary": "Invoke a function asynchronously",
        "description": "<p>Invoke a function asynchronously You need <code>object/faas/function/invoke</code> permission in order to access this API.</p>",
        "parameters": [
          {
            "in": "query",
            "name": "functionName",
            "description": "<p>the name of the function</p>",
            "required": true,
            "type": "Number"
          },
          {
            "in": "query",
            "name": "X-Callback-Url",
            "description": "<p>the call back url that the function return data will be posted to.</p>",
            "required": true,
            "type": "String"
          },
          {
            "in": "body",
            "name": "body",
            "description": "Request body",
            "required": true,
            "schema": {
              "type": "object",
              "properties": {
                "input": {
                  "type": "any",
                  "description": "<p>when invoke the function, you can optionally supply function input in HTTP request body. The whole request body will be passed to the function as input. However, how body data is parsed depends on the mime type.</p>"
                }
              }
            }
          }
        ],
        "responses": {
          "202": {
            "description": "<pre>HTTP/1.1 202 Accepted\nRequest accepted and queued<pre>"
          },
          "403": {
            "description": "<pre>you are not permitted to perform `object/faas/function/invoke` on required resources<pre>"
          },
          "404": {
            "description": "<pre>HTTP/1.1 404 Not Found<pre>"
          },
          "500": {
            "description": "<pre>HTTP/1.1 500 Internal Server Error<pre>"
          }
        }
      }
    },
    "/v0/openfaas/function/:functionName": {
      "post": {
        "tags": [
          "FaaS_Function"
        ],
        "summary": "Invoke a function",
        "description": "<p>Invoke a function You need <code>object/faas/function/invoke</code> permission in order to access this API.</p>",
        "parameters": [
          {
            "in": "query",
            "name": "functionName",
            "description": "<p>the name of the function</p>",
            "required": true,
            "type": "Number"
          },
          {
            "in": "body",
            "name": "body",
            "description": "Request body",
            "required": true,
            "schema": {
              "type": "object",
              "properties": {
                "input": {
                  "type": "any",
                  "description": "<p>when invoke the function, you can optionally supply function input in HTTP request body. The whole request body will be passed to the function as input. However, how body data is parsed depends on the mime type.</p>"
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "<pre>HTTP/1.1 200 Ok\n// HTTP response body contains value returned from function<pre>"
          },
          "400": {
            "description": "<pre>HTTP/1.1 400 Bad Request<pre>"
          },
          "403": {
            "description": "<pre>you are not permitted to perform `object/faas/function/invoke` on required resources<pre>"
          },
          "404": {
            "description": "<pre>HTTP/1.1 404 Not Found<pre>"
          },
          "500": {
            "description": "<pre>HTTP/1.1 500 Internal Server Error<pre>"
          }
        }
      }
    },
    "/v0/indexer/dataset/{datasetId}": {
      "delete": {
        "tags": [
          "Indexer"
        ],
        "summary": "delete a dataset from the index",
        "description": "<p>Delete a dataset from the search engine index. This API will also refresh the dataset index to make sure the changes available for search. Require &quot;object/dataset/*/delete&quot; permission to the dataset in order to access this API.</p>",
        "parameters": [],
        "responses": {
          "Response:": {
            "description": "<pre>{\n  \"deleted\": true\n}<pre>"
          }
        }
      },
      "put": {
        "tags": [
          "Indexer"
        ],
        "summary": "reindex a dataset by ID",
        "description": "<p>Ask indexer to re-pull dataset data from registry and index into search engine index. You only need to call this API when you want the changes of the datasets to go into search engine index immediately without any delay of webhook system. This API will also refresh the dataset index to make sure the changes available for search. Require &quot;object/dataset/*/update&quot; permission to the dataset in order to access this API.</p>",
        "parameters": [],
        "responses": {
          "Response:": {
            "description": "<pre>{\n  \"successes\": 1,\n  \"failures\": 0,\n  \"warns\": 0,\n  \"failureReasons\": [],\n  \"warnReasons\": []\n}<pre>"
          }
        }
      }
    },
    "/v0/indexer/reindex/in-progress": {
      "get": {
        "tags": [
          "Indexer"
        ],
        "summary": "Check reindex progress",
        "description": "<p>Reveals whether the indexer is currently reindexing. Returns a simple text &quot;true&quot; or &quot;false&quot;. requires permission to operation uri <code>api/indexer/reindex/in-progress</code></p>",
        "parameters": [],
        "responses": {}
      }
    },
    "http://indexer/v0/registry-hook": {
      "post": {
        "tags": [
          "Indexer"
        ],
        "summary": "Hook endpoint (internal)",
        "description": "<p>Registry webhook endpoint - accepts webhook payloads from the registry. This generally means datasets from the registry as they're updated. This shouldn't be called manually, it's purely for registry use.</p>",
        "parameters": [],
        "responses": {}
      }
    },
    "/v0/indexer/reindex": {
      "post": {
        "tags": [
          "Indexer"
        ],
        "summary": "Trigger reindex",
        "description": "<p>Triggers a new reindex, if possible. This means that all datasets and organisations in the registry will be reingested into the ElasticSearch index, and any not present in the registry will be deleted from ElasticSearch.</p> <p>If this is already in progress, returns 409.</p> <p>Requires permission to operation uri <code>api/indexer/reindex</code></p>",
        "parameters": [],
        "responses": {}
      }
    },
    "/v0/minions/crawlerProgress": {
      "get": {
        "tags": [
          "Minions"
        ],
        "summary": "Get the minion recrawl progress",
        "description": "<p>Get the minion recrawl progress</p>",
        "parameters": [],
        "responses": {
          "Response:": {
            "description": "<pre>{\n    isSuccess: false,\n    errorMessage: \"Unknown Error\"\n}<pre>"
          }
        }
      }
    },
    "/v0/minions/recrawl": {
      "post": {
        "tags": [
          "Minions"
        ],
        "summary": "Make the minion recrawl the registry",
        "description": "<p>Make the minion recrawl the registry</p>",
        "parameters": [],
        "responses": {
          "Response:": {
            "description": "<pre>{\n    isSuccess: false,\n    errorMessage: \"Unknown Error\"\n}<pre>"
          }
        }
      }
    },
    "/v0/registry/aspects": {
      "get": {
        "tags": [
          "Registry_Aspects"
        ],
        "summary": "Get a list of all aspects",
        "parameters": [],
        "responses": {
          "Response:": {
            "description": "<pre>\n[\n  {\n    \"id\": \"string\",\n    \"name\": \"string\",\n    \"jsonSchema\": {}\n  }\n  ...\n]<pre>"
          }
        }
      },
      "post": {
        "tags": [
          "Registry_Aspects"
        ],
        "summary": "Create a new aspect",
        "description": "<p>Acknowledges a previously-deferred web hook with a given ID. Acknowledging a previously-POSTed web hook will cause the next, if any, to be sent.</p>",
        "parameters": [
          {
            "in": "body",
            "name": "body",
            "description": "Request body",
            "required": true,
            "schema": {
              "type": "object",
              "properties": {
                "aspect": {
                  "type": "json",
                  "description": "<p>The definition of the new aspect.</p>"
                }
              },
              "required": [
                "aspect"
              ]
            }
          }
        ],
        "responses": {
          "Response:": {
            "description": "<pre>\n{\n  \"id\": \"string\",\n  \"name\": \"string\",\n  \"jsonSchema\": {}\n}<pre>"
          }
        }
      }
    },
    "/v0/registry/aspects/{id}": {
      "get": {
        "tags": [
          "Registry_Aspects"
        ],
        "summary": "Get an aspect by ID",
        "description": "<p>Get an aspect by ID</p>",
        "parameters": [
          {
            "in": "query",
            "name": "id",
            "description": "<p>ID of the aspect to be fetched.</p>",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "Response:": {
            "description": "<pre>\n{\n  \"id\": \"string\",\n  \"name\": \"string\",\n  \"jsonSchema\": {}\n}<pre>"
          }
        }
      },
      "patch": {
        "tags": [
          "Registry_Aspects"
        ],
        "summary": "Modify an aspect by applying a JSON Patch",
        "description": "<p>The patch should follow IETF RFC 6902 (https://tools.ietf.org/html/rfc6902).</p>",
        "parameters": [
          {
            "in": "query",
            "name": "id",
            "description": "<p>ID of the aspect to be saved.</p>",
            "required": true,
            "type": "string"
          },
          {
            "in": "body",
            "name": "body",
            "description": "Request body",
            "required": true,
            "schema": {
              "type": "object",
              "properties": {
                "aspectPatch": {
                  "type": "json",
                  "description": "<p>The RFC 6902 patch to apply to the aspect.</p>"
                }
              },
              "required": [
                "aspectPatch"
              ]
            }
          }
        ],
        "responses": {
          "Response:": {
            "description": "<pre>\n{\n  \"id\": \"string\",\n  \"name\": \"string\",\n  \"jsonSchema\": {}\n}<pre>"
          }
        }
      },
      "put": {
        "tags": [
          "Registry_Aspects"
        ],
        "summary": "Modify an aspect by ID",
        "description": "<p>Modifies the aspect with a given ID. If an aspect with the ID does not yet exist, it is created.</p>",
        "parameters": [
          {
            "in": "query",
            "name": "id",
            "description": "<p>ID of the aspect to be saved.</p>",
            "required": true,
            "type": "string"
          },
          {
            "in": "body",
            "name": "body",
            "description": "Request body",
            "required": true,
            "schema": {
              "type": "object",
              "properties": {
                "aspect": {
                  "type": "json",
                  "description": "<p>The aspect to save.</p>"
                }
              },
              "required": [
                "aspect"
              ]
            }
          }
        ],
        "responses": {
          "Response:": {
            "description": "<pre>\n{\n  \"id\": \"string\",\n  \"name\": \"string\",\n  \"jsonSchema\": {}\n}<pre>"
          }
        }
      }
    },
    "/v0/registry/records/aspectArrayItems/:aspectId": {
      "delete": {
        "tags": [
          "Registry_Record_Aspects"
        ],
        "summary": "Remove items from records' aspect data",
        "description": "<p>this API goes through the aspect data that is specified by aspectId of a list of registry records and delete items from the array that is located by the jsonPath. If the aspect doesn't exist for a record or the array can't be located with the jsonPath string or the value located with the jsonPath string is <code>null</code>, the operation will be skipped without throwing error. <code>0</code> will returned as eventId for this case. If the json data that is located by the jsonPath string exists and is not an Array or null, an error will be thrown and 400 code will be responded.</p>",
        "parameters": [
          {
            "in": "query",
            "name": "aspectId",
            "description": "<p>the id of the aspect to be updated</p>",
            "required": true,
            "type": "string"
          },
          {
            "in": "body",
            "name": "body",
            "description": "Request body",
            "required": true,
            "schema": {
              "type": "object",
              "properties": {
                "recordIds": {
                  "type": "string[]",
                  "description": "<p>a list of record IDs of records to be patched</p>"
                },
                "jsonPath": {
                  "type": "string",
                  "description": "<p>the jsonPath string that is used to locate the json array in the record aspect data</p>"
                },
                "items": {
                  "type": "any[]",
                  "description": "<p>a list of items to be removed from the located array. The type of the items can be either string or number.</p>"
                }
              },
              "required": [
                "recordIds",
                "jsonPath",
                "items"
              ]
            }
          }
        ],
        "responses": {
          "Response:": {
            "description": "<pre>[122, 123, 124]<pre>"
          }
        }
      }
    },
    "/v0/registry/records/{recordId}/aspects/{aspectId}": {
      "delete": {
        "tags": [
          "Registry_Record_Aspects"
        ],
        "summary": "Delete a record aspect by ID",
        "description": "<p>Deletes a record aspect.</p>",
        "parameters": [
          {
            "in": "query",
            "name": "recordId",
            "description": "<p>ID of the record for which to update an aspect.</p>",
            "required": true,
            "type": "string"
          },
          {
            "in": "query",
            "name": "aspectId",
            "description": "<p>ID of the aspect to update</p>",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "Response:": {
            "description": "<pre>{\n  \"deleted\": true\n}<pre>"
          }
        }
      },
      "get": {
        "tags": [
          "Registry_Record_Aspects"
        ],
        "summary": "Get a record aspect by ID",
        "description": "<p>Get an aspects of a record specified by aspect ID</p>",
        "parameters": [
          {
            "in": "query",
            "name": "recordId",
            "description": "<p>ID of the record for which to fetch an aspect</p>",
            "required": true,
            "type": "string"
          },
          {
            "in": "query",
            "name": "aspectId",
            "description": "<p>ID of the aspect to fetch</p>",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "Response:": {
            "description": "<pre>{\n  \"format\": \"text/csv\",\n  \"mediaType\": \"text/csv\",\n  \"name\": \"qcat-outdoor~AIR_TEMP~9.csv\",\n  \"downloadURL\": \"https://data.csiro.au/dap/ws/v2/collections/17914/data/103023\",\n  \"licence\": \"CSIRO Data Licence\",\n  \"id\": 103023,\n  \"accessURL\": \"https://data.csiro.au/dap/ws/v2/collections/17914/data\"\n}<pre>"
          }
        }
      },
      "patch": {
        "tags": [
          "Registry_Record_Aspects"
        ],
        "summary": "Modify a record aspect by applying a JSON Patch",
        "description": "<p>The patch should follow IETF RFC 6902 (https://tools.ietf.org/html/rfc6902).</p>",
        "parameters": [
          {
            "in": "query",
            "name": "recordId",
            "description": "<p>ID of the record for which to update an aspect.</p>",
            "required": true,
            "type": "string"
          },
          {
            "in": "query",
            "name": "aspectId",
            "description": "<p>ID of the aspect to update</p>",
            "required": true,
            "type": "string"
          },
          {
            "in": "query",
            "name": "aspectPatch",
            "description": "<p>The RFC 6902 patch to apply to the aspect.</p>",
            "required": true,
            "type": "json"
          }
        ],
        "responses": {
          "Response:": {
            "description": "<pre>{\n  \"format\": \"text/csv\",\n  \"mediaType\": \"text/csv\",\n  \"name\": \"qcat-outdoor~AIR_TEMP~9.csv\",\n  \"downloadURL\": \"https://data.csiro.au/dap/ws/v2/collections/17914/data/103023\",\n  \"licence\": \"CSIRO Data Licence\",\n  \"id\": 103023,\n  \"accessURL\": \"https://data.csiro.au/dap/ws/v2/collections/17914/data\"\n}<pre>"
          }
        }
      },
      "put": {
        "tags": [
          "Registry_Record_Aspects"
        ],
        "summary": "Modify a record aspect by ID",
        "description": "<p>Modifies a record aspect. If the aspect does not yet exist on this record, it is created. Please note: when the record (specified by recordId ) doesn't exist, this API will respond 400 error.</p>",
        "parameters": [
          {
            "in": "query",
            "name": "recordId",
            "description": "<p>ID of the record for which to update an aspect.</p>",
            "required": true,
            "type": "string"
          },
          {
            "in": "query",
            "name": "aspectId",
            "description": "<p>ID of the aspect to update</p>",
            "required": true,
            "type": "string"
          },
          {
            "in": "query",
            "name": "merge",
            "description": "<p>Whether merge with existing aspect data or replace it. Default: <code>false</code></p>",
            "required": false,
            "type": "boolean"
          },
          {
            "in": "body",
            "name": "body",
            "description": "Request body",
            "required": true,
            "schema": {
              "type": "object",
              "properties": {
                "aspect": {
                  "type": "json",
                  "description": "<p>The record aspect to save</p>"
                }
              },
              "required": [
                "aspect"
              ]
            }
          }
        ],
        "responses": {
          "Response:": {
            "description": "<pre>{\n  \"format\": \"text/csv\",\n  \"mediaType\": \"text/csv\",\n  \"name\": \"qcat-outdoor~AIR_TEMP~9.csv\",\n  \"downloadURL\": \"https://data.csiro.au/dap/ws/v2/collections/17914/data/103023\",\n  \"licence\": \"CSIRO Data Licence\",\n  \"id\": 103023,\n  \"accessURL\": \"https://data.csiro.au/dap/ws/v2/collections/17914/data\"\n}<pre>"
          }
        }
      }
    },
    "/v0/registry/records/{recordId}/aspects": {
      "get": {
        "tags": [
          "Registry_Record_Aspects"
        ],
        "summary": "Get a list of a record's aspects",
        "description": "<p>Get a list of a record's aspects</p>",
        "parameters": [
          {
            "in": "query",
            "name": "recordId",
            "description": "<p>ID of the record</p>",
            "required": true,
            "type": "string"
          },
          {
            "in": "query",
            "name": "keyword",
            "description": "<p>Specify the keyword to search in the all aspects' aspectId &amp; data fields. The two fields will be treated as string during the search.</p>",
            "required": true,
            "type": "string"
          },
          {
            "in": "query",
            "name": "aspectIdOnly",
            "description": "<p>When set to true, will respond only an array contains aspect id only. Default to <code>false</code>.</p>",
            "required": true,
            "type": "boolean"
          },
          {
            "in": "query",
            "name": "start",
            "description": "<p>The index of the first aspect to retrieve.</p>",
            "required": true,
            "type": "number"
          },
          {
            "in": "query",
            "name": "limit",
            "description": "<p>The maximum number of aspects to receive.</p>",
            "required": true,
            "type": "number"
          }
        ],
        "responses": {
          "Response with Aspect Data": {
            "description": "<pre>[{\n  \"id\": \"aspect-abc\",\n  \"data\": {\n    \"format\": \"text/csv\",\n    \"mediaType\": \"text/csv\",\n    \"name\": \"qcat-outdoor~AIR_TEMP~9.csv\",\n    \"downloadURL\": \"https://data.csiro.au/dap/ws/v2/collections/17914/data/103023\",\n    \"licence\": \"CSIRO Data Licence\",\n    \"id\": 103023,\n    \"accessURL\": \"https://data.csiro.au/dap/ws/v2/collections/17914/data\"\n  }\n}]<pre>"
          },
          "Response with Aspect ID only": {
            "description": "<pre>[\"aspect-id-1\", \"aspect-id-2\", \"aspect-id-3\"]<pre>"
          }
        }
      }
    },
    "/v0/registry/records/{recordId}/aspects/count": {
      "get": {
        "tags": [
          "Registry_Record_Aspects"
        ],
        "summary": "Get the number of aspects that a record has",
        "description": "<p>Get the number of aspects that a record has</p>",
        "parameters": [
          {
            "in": "query",
            "name": "recordId",
            "description": "<p>ID of the record to count aspects</p>",
            "required": true,
            "type": "string"
          },
          {
            "in": "query",
            "name": "keyword",
            "description": "<p>Specify the keyword to search in the all aspects' aspectId &amp; data fields. The two fields will be treated as string during the search.</p>",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "Response:": {
            "description": "<pre>{\n  \"count\": 5\n}<pre>"
          }
        }
      }
    },
    "/v0/registry/records/aspects/:aspectId": {
      "put": {
        "tags": [
          "Registry_Record_Aspects"
        ],
        "summary": "Modify a list of records's aspect with same new data",
        "description": "<p>Modify a list of records's aspect with same new data</p>",
        "parameters": [
          {
            "in": "query",
            "name": "aspectId",
            "description": "<p>the id of the aspect to be updated</p>",
            "required": true,
            "type": "string"
          },
          {
            "in": "query",
            "name": "merge",
            "description": "<p>Indicate whether merge the new data into existing aspect data or replace it. Default: <code>false</code></p>",
            "required": false,
            "type": "boolean"
          },
          {
            "in": "body",
            "name": "body",
            "description": "Request body",
            "required": true,
            "schema": {
              "type": "object",
              "properties": {
                "recordIds": {
                  "type": "string[]",
                  "description": "<p>a list of record IDs of records to be patched</p>"
                },
                "data": {
                  "type": "object",
                  "description": "<p>the new aspect data. When <code>merge</code> = true, the new data will be merged into existing aspect data (if exists).</p>"
                }
              },
              "required": [
                "recordIds",
                "data"
              ]
            }
          }
        ],
        "responses": {
          "Response:": {
            "description": "<pre>[122, 123, 124]<pre>"
          }
        }
      }
    },
    "/v0/registry/records/{recordId}/history": {
      "get": {
        "tags": [
          "Registry_Record_History"
        ],
        "summary": "Get a list of all events affecting this record",
        "description": "<p>Get a list of all aspects of a record</p>",
        "parameters": [
          {
            "in": "query",
            "name": "recordId",
            "description": "<p>ID of the record to fetch.</p>",
            "required": true,
            "type": "string"
          },
          {
            "in": "query",
            "name": "pageToken",
            "description": "<p>A token that identifies the start of a page of results. This token should not be interpreted as having any meaning, but it can be obtained from a previous page of results.</p>",
            "required": true,
            "type": "string"
          },
          {
            "in": "query",
            "name": "reversePageTokenOrder",
            "description": "<p>When pagination via pageToken, by default, records with smaller pageToken (i.e. older records) will be returned first. When this parameter is set to <code>true</code>, higher pageToken records (newer records) will be returned.</p>",
            "required": true,
            "type": "boolean"
          },
          {
            "in": "query",
            "name": "start",
            "description": "<p>The index of the first event to retrieve. Specify pageToken instead will result in better performance when access high offset. If this parameter and pageToken are both specified, this parameter is interpreted as the index after the pageToken of the first record to retrieve.</p>",
            "required": true,
            "type": "number"
          },
          {
            "in": "query",
            "name": "limit",
            "description": "<p>The maximum number of records to receive. The response will include a token that can be passed as the pageToken parameter to a future request to continue receiving results where this query leaves off.</p>",
            "required": true,
            "type": "number"
          }
        ],
        "responses": {
          "Response:": {
            "description": "<pre>{\n    \"events\": [\n        {\n            \"eventTime\": \"2018-08-29T07:45:48.011Z\",\n            \"eventType\": \"CreateRecord\",\n            \"tenantId\": 0,\n            \"userId\": 0,\n            \"data\": {\n                ...\n            }\n        },\n        ...\n    ],\n    \"hasMore\": true,\n    \"nextPageToken\": \"xxx\"\n}<pre>"
          }
        }
      }
    },
    "/v0/registry/records/{recordId}/history/{eventId}": {
      "get": {
        "tags": [
          "Registry_Record_History"
        ],
        "summary": "Get the version of a record that existed after a given event was applied",
        "description": "<p>Get the version of a record that existed after a given event was applied</p>",
        "parameters": [
          {
            "in": "query",
            "name": "recordId",
            "description": "<p>ID of the record to fetch.</p>",
            "required": true,
            "type": "string"
          },
          {
            "in": "query",
            "name": "eventId",
            "description": "<p>The ID of the last event to be applied to the record. The event with this ID need not actually apply to the record, in which case that last event prior to this even that does apply will be used.</p>",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "Response:": {
            "description": "<pre>{\n    \"data\": {\n        \"aspect\": {\n            \"id\": \"dga\",\n            \"name\": \"data.gov.au\",\n            \"type\": \"ckan-organization\",\n            \"url\": \"https://data.gov.au/api/3/action/organization_show?id=760c24b1-3c3d-4ccb-8196-41530fcdebd5\"\n        },\n        \"aspectId\": \"source\",\n        \"recordId\": \"org-dga-760c24b1-3c3d-4ccb-8196-41530fcdebd5\",\n        \"tenantId\": 0\n    },\n    \"eventTime\": \"2011-12-10T15:40:55.987+11:00\",\n    \"eventType\": \"CreateRecordAspect\",\n    \"id\": 11,\n    \"tenantId\": 0,\n    \"userId\": 0\n}<pre>"
          }
        }
      }
    },
    "/v0/registry/records": {
      "delete": {
        "tags": [
          "Registry_Record_Service"
        ],
        "summary": "Trim by source tag",
        "description": "<p>Trims records with the provided source that DONT have the supplied source tag</p>",
        "parameters": [
          {
            "in": "query",
            "name": "sourceTagToPreserve",
            "description": "<p>Source tag of the records to PRESERVE.</p>",
            "required": true,
            "type": "string"
          },
          {
            "in": "query",
            "name": "sourceId",
            "description": "<p>Source id of the records to delete.</p>",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "Response-200:": {
            "description": "<pre>{\n  \"count\": 0\n}<pre>"
          }
        }
      },
      "get": {
        "tags": [
          "Registry_Record_Service"
        ],
        "summary": "Get a list of all records",
        "description": "<p>Get a list of all records</p>",
        "parameters": [
          {
            "in": "query",
            "name": "q",
            "description": "<p>Full text search querytext. You can supply keywords or phrases for full text search against all possible fields of all aspect data.</p> <p>The full text search querytext leverages <a href=\"https://www.postgresql.org/docs/13/textsearch-controls.html#TEXTSEARCH-PARSING-QUERIES\">websearch_to_tsquery</a> to parse user querytext into a valid text search query. The following syntax is supported:</p> <ul> <li>unquoted text: text not inside quote marks will be converted to terms separated by &amp; operators, as if processed by plainto_tsquery.</li> <li>&quot;quoted text&quot;: text inside quote marks will be converted to terms separated by &lt;-&gt; operators, as if processed by phraseto_tsquery.</li> <li>OR: the word or will be converted to the | operator.</li> <li>-: a dash will be converted to the ! operator.</li> </ul> <p>Other punctuation is ignored. tsquery operators, weight labels, or prefix-match labels in its input will not be recognized.</p> <p>For simple usage, you can simply supply keywords that you want the search result (i.e. record) matched.</p> <p>The full text search function will cover all field values in all aspect data, plus record id and aspect id.</p> <p>Please note: the record name field on records table will not be covered for the performance reason.</p>",
            "required": true,
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "aspect",
            "description": "<p>The aspects for which to retrieve data, specified as multiple occurrences of this query parameter. Only records that have all of these aspects will be included in the response.</p>",
            "required": true,
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "optionalAspect",
            "description": "<p>The optional aspects for which to retrieve data, specified as multiple occurrences of this query parameter. These aspects will be included in a record if available, but a record will be included even if it is missing these aspects.</p>",
            "required": true,
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "pageToken",
            "description": "<p>A token that identifies the start of a page of results. This token should not be interpreted as having any meaning, but it can be obtained from a previous page of results.</p>",
            "required": true,
            "type": "string"
          },
          {
            "in": "query",
            "name": "reversePageTokenOrder",
            "description": "<p>When pagination via pageToken, by default, records with smaller pageToken (i.e. older records) will be returned first. When this parameter is set to <code>true</code>, higher pageToken records (newer records) will be returned.</p>",
            "required": true,
            "type": "boolean"
          },
          {
            "in": "query",
            "name": "start",
            "description": "<p>The index of the first record to retrieve. When possible, specify pageToken instead as it will result in better performance. If this parameter and pageToken are both specified, this parameter is interpreted as the index after the pageToken of the first record to retrieve.</p>",
            "required": true,
            "type": "number"
          },
          {
            "in": "query",
            "name": "limit",
            "description": "<p>The maximum number of records to receive. The response will include a token that can be passed as the pageToken parameter to a future request to continue receiving results where this query leaves off.</p>",
            "required": true,
            "type": "number"
          },
          {
            "in": "query",
            "name": "dereference",
            "description": "<p>true to automatically dereference links to other records; false to leave them as links. Dereferencing a link means including the record itself where the link would be. Dereferencing only happens one level deep, regardless of the value of this parameter.</p>",
            "required": true,
            "type": "boolean"
          },
          {
            "in": "query",
            "name": "aspectQuery",
            "description": "<p>Filter the records returned by a value within the aspect JSON.</p> <p>Expressed as string concatenation of:</p> <ul> <li><code>aspectId.path.to.field</code></li> <li><code>operator</code></li> <li><code>value</code></li> </ul> <p>Except <code>operator</code>, all parts must be encoded as <code>application/x-www-form-urlencoded</code> MIME format before encoded as query string parameter value.</p> <p>A sample query string encoding implementation is available <a href=\"https://gist.github.com/t83714/db1725a347c07413c16803a77da13003\">here</a>.</p> <p>If more than one queries is passed through the <code>aspectQuery</code> parameters, they will be grouped with <code>AND</code> logic.</p> <p>Support the following operators in aspectQuery or <code>aspectOrQuery</code>:</p> <ul> <li><code>:</code> equal</li> <li><code>:!</code>  not equal</li> <li><code>:?</code>  matches a pattern, case insensitive. Use Postgresql <a href=\"https://www.postgresql.org/docs/9.6/functions-matching.html#FUNCTIONS-LIKE\">ILIKE</a> operator. <ul> <li>e.g. <code>:?%rating%</code> will match the field contains keyword <code>rating</code></li> <li>e.g. <code>:?rating%</code> will match the field starts with keyword <code>rating</code></li> </ul> </li> <li><code>:!?</code> does not match a pattern, case insensitive. negative version of <code>:?</code>.</li> <li><code>:~</code>  matches POSIX regular expression, case insensitive. Use Postgresql <a href=\"https://www.postgresql.org/docs/9.6/functions-matching.html#FUNCTIONS-POSIX-REGEXP\">~*</a> operator</li> <li><code>:!~</code> does not match POSIX regular expression, case insensitive. negative version of <code>:~</code>.</li> <li><code>:&gt;</code>  greater than</li> <li><code>:&gt;=</code> greater than or equal to</li> <li><code>:&lt;</code>  less than</li> <li><code>:&lt;=</code> less than or equal to</li> <li><code>:&lt;|</code> the field is an array value and contains the value</li> <li><code>:!&lt;|</code> the field is not an array value or not contains the value</li> </ul> <p>Example URL with aspectQuery <code>dcat-dataset-strings.title:?%rating%</code> (Search keyword <code>rating</code> in <code>dcat-dataset-strings</code> aspect <code>title</code> field)</p> <p><code>/v0/records?limit=100&amp;optionalAspect=source&amp;aspect=dcat-dataset-strings&amp;aspectQuery=dcat-dataset-strings.title:?%2525rating%2525</code></p> <p>Please note: when both <code>aspectQuery</code> and <code>aspectOrQuery</code> present, query conditions generated from <code>aspectQuery</code> and <code>aspectOrQuery</code> will be joined with <code>AND</code></p> <p>e.g. For the following <code>aspectQuery</code> &amp; <code>aspectOrQuery</code> queries are specified:</p> <ul> <li><code>aspectQuery</code>: <ul> <li>q1</li> <li>q2</li> </ul> </li> <li><code>aspectOrQuery</code>: <ul> <li>q3</li> <li>q4</li> </ul> </li> </ul> <p>The generated query conditions will be <code>((q1 AND q2) AND (q3 OR q4))</code> <br/><br/></p> <p>e.g. For the following <code>aspectQuery</code> &amp; <code>aspectOrQuery</code> queries are specified:</p> <ul> <li><code>aspectQuery</code>: <ul> <li>q1</li> <li>q2</li> </ul> </li> <li><code>aspectOrQuery</code>: <ul> <li>q3</li> </ul> </li> </ul> <p>The generated query conditions will be <code>((q1 AND q2) AND q3 )</code>. This is equivalent to set <code>aspectQuery</code> only as <code>q1</code>, <code>q2</code> and <code>q3</code>. <br/><br/><br/></p> <p>NOTE: This is an early stage API and may change greatly in the future.</p>",
            "required": true,
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "aspectOrQuery",
            "description": "<p>Filter the records returned by a value within the aspect JSON.</p> <p>Expressed as string concatenation of:</p> <ul> <li><code>aspectId.path.to.field</code></li> <li><code>operator</code></li> <li><code>value</code> Except <code>operator</code>, all parts must be encoded as <code>application/x-www-form-urlencoded</code> MIME format.</li> </ul> <p>If more than one queries is passed through <code>aspectOrQuery</code> parameters, they will be grouped with <code>OR</code> logic.</p> <p><code>aspectOrQuery</code> supports the same operator list as <code>aspectQuery</code>.</p> <p>NOTE: This is an early stage API and may change greatly in the future</p>",
            "required": true,
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "orderBy",
            "description": "<p>Specify the field to sort the result. Aspect field can be supported in a format like aspectId.path.to.field.</p> <p>If orderBy reference an aspects that is not included by either <code>aspect</code> or <code>optionalAspect</code> parameters, it will be added to the <code>optionalAspect</code> list.</p> <p>Please Note: When <code>pageToken</code> parameter is specified, <code>orderBy</code> is not available. You can set <code>reversePageTokenOrder</code> = <code>true</code> to reverse the pagination order though.</p>",
            "required": true,
            "type": "string"
          },
          {
            "in": "query",
            "name": "orderByDir",
            "description": "<p>Specify the order by direction. Either <code>asc</code> or <code>desc</code>. <code>desc</code> order is the default.</p>",
            "required": true,
            "type": "string"
          },
          {
            "in": "query",
            "name": "orderNullFirst",
            "description": "<p>Specify whether nulls appear before (<code>true</code>) or after (<code>false</code>) non-null values in the sort ordering. Default to <code>false</code>.</p>",
            "required": true,
            "type": "boolean"
          }
        ],
        "responses": {
          "Response:": {
            "description": "<pre>{\n     \"hasMore\": true,\n     \"nextPageToken\": \"2344\",\n     \"records\": [\n         {\n             \"id\": \"string\",\n             \"name\": \"string\",\n             \"aspects\": {},\n             \"sourceTag\": \"string\"\n         }\n     ]\n}<pre>"
          }
        }
      },
      "patch": {
        "tags": [
          "Registry_Record_Service"
        ],
        "summary": "Modify a list of records by applying the same JSON Patch",
        "description": "<p>The patch should follow IETF RFC 6902 (https://tools.ietf.org/html/rfc6902).</p>",
        "parameters": [
          {
            "in": "body",
            "name": "body",
            "description": "Request body",
            "required": true,
            "schema": {
              "type": "object",
              "properties": {
                "recordIds": {
                  "type": "string[]",
                  "description": "<p>a list of record IDs of records to be patched</p>"
                },
                "jsonPatch": {
                  "type": "object[]",
                  "description": "<p>The RFC 6902 patch to apply to the aspect.</p>"
                }
              },
              "required": [
                "recordIds",
                "jsonPatch"
              ]
            }
          }
        ],
        "responses": {
          "Response:": {
            "description": "<pre>[122, 123, 124]<pre>"
          }
        }
      },
      "post": {
        "tags": [
          "Registry_Record_Service"
        ],
        "summary": "Create a new record",
        "description": "<p>Create a new record</p>",
        "parameters": [
          {
            "in": "body",
            "name": "body",
            "description": "Request body",
            "required": true,
            "schema": {
              "type": "object",
              "properties": {
                "record": {
                  "type": "json",
                  "description": "<p>The definition of the new record.</p>"
                }
              },
              "required": [
                "record"
              ]
            }
          }
        ],
        "responses": {
          "Response:": {
            "description": "<pre>{\n    \"id\": \"string\",\n    \"name\": \"string\",\n    \"aspects\": {},\n    \"sourceTag\": \"string\"\n}<pre>"
          }
        }
      }
    },
    "/v0/registry/records/{recordId}": {
      "delete": {
        "tags": [
          "Registry_Record_Service"
        ],
        "summary": "Delete a record",
        "description": "<p>Delete a record</p>",
        "parameters": [
          {
            "in": "query",
            "name": "recordId",
            "description": "<p>ID of the record to delete.</p>",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "Response:": {
            "description": "<pre>{\n  \"deleted\": true\n}<pre>"
          }
        }
      }
    },
    "/v0/registry/records/count": {
      "get": {
        "tags": [
          "Registry_Record_Service"
        ],
        "summary": "Get the count of records matching the parameters",
        "description": "<p>Get the count of records matching the parameters. If no parameters are specified, the count will be approximate for performance reasons.</p>",
        "parameters": [
          {
            "in": "query",
            "name": "q",
            "description": "<p>Full text search querytext. You can supply keywords or phrases for full text search against all possible fields of all aspect data.</p> <p>The full text search querytext leverages <a href=\"https://www.postgresql.org/docs/13/textsearch-controls.html#TEXTSEARCH-PARSING-QUERIES\">websearch_to_tsquery</a> to parse user querytext into a valid text search query. The following syntax is supported:</p> <ul> <li>unquoted text: text not inside quote marks will be converted to terms separated by &amp; operators, as if processed by plainto_tsquery.</li> <li>&quot;quoted text&quot;: text inside quote marks will be converted to terms separated by &lt;-&gt; operators, as if processed by phraseto_tsquery.</li> <li>OR: the word or will be converted to the | operator.</li> <li>-: a dash will be converted to the ! operator.</li> </ul> <p>Other punctuation is ignored. tsquery operators, weight labels, or prefix-match labels in its input will not be recognized.</p> <p>For simple usage, you can simply supply keywords that you want the search result (i.e. record) matched.</p> <p>The full text search function will cover all field values in all aspect data, plus record id and aspect id.</p> <p>Please note: the record name field on records table will not be covered for the performance reason.</p>",
            "required": true,
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "aspect",
            "description": "<p>The aspects for which to retrieve data, specified as multiple occurrences of this query parameter. Only records that have all of these aspects will be included in the response.</p>",
            "required": true,
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "aspectQuery",
            "description": "<p>Filter the records returned by a value within the aspect JSON.</p> <p>Expressed as string concatenation of:</p> <ul> <li><code>aspectId.path.to.field</code></li> <li><code>operator</code></li> <li><code>value</code> Except <code>operator</code>, all parts must be encoded as <code>application/x-www-form-urlencoded</code> MIME format before encoded as query string parameter value.</li> </ul> <p>A sample query string encoding implementation is available <a href=\"https://gist.github.com/t83714/db1725a347c07413c16803a77da13003\">here</a>.</p> <p>If more than one queries is passed through the <code>aspectQuery</code> parameters, they will be grouped with <code>AND</code> logic.</p> <p>Support the following operators in aspectQuery or <code>aspectOrQuery</code>:</p> <ul> <li><code>:</code> equal</li> <li><code>:!</code>  not equal</li> <li><code>:?</code>  matches a pattern, case insensitive. Use Postgresql <a href=\"https://www.postgresql.org/docs/9.6/functions-matching.html#FUNCTIONS-LIKE\">ILIKE</a> operator. <ul> <li>e.g. <code>:?%rating%</code> will match the field contains keyword <code>rating</code></li> <li>e.g. <code>:?rating%</code> will match the field starts with keyword <code>rating</code></li> </ul> </li> <li><code>:!?</code> does not match a pattern, case insensitive. Use Postgresql <a href=\"https://www.postgresql.org/docs/9.6/functions-matching.html#FUNCTIONS-LIKE\">NOT ILIKE</a> operator</li> <li><code>:~</code>  matches POSIX regular expression, case insensitive. Use Postgresql <a href=\"https://www.postgresql.org/docs/9.6/functions-matching.html#FUNCTIONS-POSIX-REGEXP\">~*</a> operator</li> <li><code>:!~</code> does not match POSIX regular expression, case insensitive. Use Postgresql <a href=\"https://www.postgresql.org/docs/9.6/functions-matching.html#FUNCTIONS-POSIX-REGEXP\">!~*</a> operator</li> <li><code>:&gt;</code>  greater than</li> <li><code>:&gt;=</code> greater than or equal to</li> <li><code>:&lt;</code>  less than</li> <li><code>:&lt;=</code> less than or equal to</li> <li><code>:&lt;|</code> the field is an array value and contains the value</li> <li><code>:!&lt;|</code> the field is not an array value or not contains the value</li> </ul> <p>Example URL with aspectQuery <code>dcat-dataset-strings.title:?%rating%</code> (Search keyword <code>rating</code> in <code>dcat-dataset-strings</code> aspect <code>title</code> field)</p> <p><code>/v0/records?limit=100&amp;optionalAspect=source&amp;aspect=dcat-dataset-strings&amp;aspectQuery=dcat-dataset-strings.title:?%2525rating%2525</code></p> <p>Please note: when both <code>aspectQuery</code> and <code>aspectOrQuery</code> present, query conditions generated from <code>aspectQuery</code> and <code>aspectOrQuery</code> will be joined with <code>AND</code></p> <p>e.g. For the following <code>aspectQuery</code> &amp; <code>aspectOrQuery</code> queries are specified:</p> <ul> <li><code>aspectQuery</code>: <ul> <li>q1</li> <li>q2</li> </ul> </li> <li><code>aspectOrQuery</code>: <ul> <li>q3</li> <li>q4</li> </ul> </li> </ul> <p>The generated query conditions will be <code>((q1 AND q2) AND (q3 OR q4))</code> <br/><br/></p> <p>e.g. For the following <code>aspectQuery</code> &amp; <code>aspectOrQuery</code> queries are specified:</p> <ul> <li><code>aspectQuery</code>: <ul> <li>q1</li> <li>q2</li> </ul> </li> <li><code>aspectOrQuery</code>: <ul> <li>q3</li> </ul> </li> </ul> <p>The generated query conditions will be <code>((q1 AND q2) AND q3 )</code>. This is equivalent to set <code>aspectQuery</code> only as <code>q1</code>, <code>q2</code> and <code>q3</code>. <br/><br/><br/> NOTE: This is an early stage API and may change greatly in the future.</p>",
            "required": true,
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "aspectOrQuery",
            "description": "<p>Filter the records returned by a value within the aspect JSON.</p> <p>Expressed as string concatenation of:</p> <ul> <li><code>aspectId.path.to.field</code></li> <li><code>operator</code></li> <li><code>value</code> Except <code>operator</code>, all parts must be encoded as <code>application/x-www-form-urlencoded</code> MIME format.</li> </ul> <p>If more than one queries is passed through <code>aspectOrQuery</code> parameters, they will be grouped with <code>OR</code> logic.</p> <p><code>aspectOrQuery</code> supports the same operator list as <code>aspectQuery</code>.</p> <p>NOTE: This is an early stage API and may change greatly in the future</p>",
            "required": true,
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "Response:": {
            "description": "<pre>{\n  \"count\": 0\n}<pre>"
          }
        }
      }
    },
    "/v0/registry/records/{id}": {
      "get": {
        "tags": [
          "Registry_Record_Service"
        ],
        "summary": "Get a record by ID",
        "description": "<p>Gets a complete record, including data for all aspects.</p>",
        "parameters": [
          {
            "in": "query",
            "name": "id",
            "description": "<p>ID of the record to be fetched.</p>",
            "required": true,
            "type": "string"
          },
          {
            "in": "query",
            "name": "aspect",
            "description": "<p>The aspects for which to retrieve data, specified as multiple occurrences of this query parameter. Only records that have all of these aspects will be included in the response.</p>",
            "required": true,
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "optionalAspect",
            "description": "<p>The optional aspects for which to retrieve data, specified as multiple occurrences of this query parameter. These aspects will be included in a record if available, but a record will be included even if it is missing these aspects.</p>",
            "required": true,
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "dereference",
            "description": "<p>true to automatically dereference links to other records; false to leave them as links. Dereferencing a link means including the record itself where the link would be. Dereferencing only happens one level deep, regardless of the value of this parameter.</p>",
            "required": true,
            "type": "boolean"
          }
        ],
        "responses": {
          "Response:": {
            "description": "<pre>{\n    \"id\": \"string\",\n    \"name\": \"string\",\n    \"aspects\": {\n     \"aspect1\": {},\n     \"aspect2\": {}\n    },\n    \"sourceTag\": \"string\"\n}<pre>"
          }
        }
      },
      "patch": {
        "tags": [
          "Registry_Record_Service"
        ],
        "summary": "Modify a record by applying a JSON Patch",
        "description": "<p>The patch should follow IETF RFC 6902 (https://tools.ietf.org/html/rfc6902).</p>",
        "parameters": [
          {
            "in": "query",
            "name": "id",
            "description": "<p>ID of the record to be patched.</p>",
            "required": true,
            "type": "string"
          },
          {
            "in": "body",
            "name": "body",
            "description": "Request body",
            "required": true,
            "schema": {
              "type": "object",
              "properties": {
                "recordPatch": {
                  "type": "json",
                  "description": "<p>The RFC 6902 patch to apply to the aspect.</p>"
                }
              },
              "required": [
                "recordPatch"
              ]
            }
          }
        ],
        "responses": {
          "Response:": {
            "description": "<pre>{\n  \"id\": \"string\",\n  \"name\": \"string\",\n  \"jsonSchema\": {}\n}<pre>"
          }
        }
      },
      "put": {
        "tags": [
          "Registry_Record_Service"
        ],
        "summary": "Modify a record by ID",
        "description": "<p>Modifies a record. Aspects included in the request are created or updated, but missing aspects are not removed.</p>",
        "parameters": [
          {
            "in": "query",
            "name": "id",
            "description": "<p>ID of the record to be fetched.</p>",
            "required": true,
            "type": "string"
          },
          {
            "in": "query",
            "name": "merge",
            "description": "<p>Whether merge with existing aspect data or replace it. Default: <code>false</code></p>",
            "required": false,
            "type": "boolean"
          },
          {
            "in": "body",
            "name": "body",
            "description": "Request body",
            "required": true,
            "schema": {
              "type": "object",
              "properties": {
                "record": {
                  "type": "json",
                  "description": "<p>The record to save.</p>"
                }
              },
              "required": [
                "record"
              ]
            }
          }
        ],
        "responses": {
          "Response:": {
            "description": "<pre>{\n    \"id\": \"string\",\n    \"name\": \"string\",\n    \"aspects\": {},\n    \"sourceTag\": \"string\"\n}<pre>"
          }
        }
      }
    },
    "/v0/registry/records/inFull/{id}": {
      "get": {
        "tags": [
          "Registry_Record_Service"
        ],
        "summary": "Get a record with all attached aspects data by the record ID",
        "description": "<p>Gets a record by ID including all attached aspect data.</p>",
        "parameters": [
          {
            "in": "query",
            "name": "id",
            "description": "<p>ID of the record to be fetched.</p>",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "Response:": {
            "description": "<pre>{\n  \"id\": \"string\",\n  \"name\": \"string\",\n  \"aspects\": {\n     \"aspect1\": {},\n     \"aspect2\": {}\n  }\n}<pre>"
          }
        }
      }
    },
    "/v0/registry/records/pagetokens": {
      "get": {
        "tags": [
          "Registry_Record_Service"
        ],
        "summary": "Get a list tokens for paging through the records",
        "description": "<p>Get a list tokens for paging through the records</p>",
        "parameters": [
          {
            "in": "query",
            "name": "aspect",
            "description": "<p>The aspects for which to retrieve data, specified as multiple occurrences of this query parameter. Only records that have all of these aspects will be included in the response.</p>",
            "required": true,
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "limit",
            "description": "<p>The size of each page to get tokens for.</p>",
            "required": true,
            "type": "number"
          }
        ],
        "responses": {
          "Response:": {
            "description": "<pre>[\n   \"string\"\n]<pre>"
          }
        }
      }
    },
    "/v0/registry/records/summary": {
      "get": {
        "tags": [
          "Registry_Record_Service"
        ],
        "summary": "Get a list of all records as summaries",
        "description": "<p>Get a list of all records as summaries</p>",
        "parameters": [
          {
            "in": "query",
            "name": "q",
            "description": "<p>Full text search querytext. You can supply keywords or phrases for full text search against all possible fields of all aspect data.</p> <p>The full text search querytext leverages <a href=\"https://www.postgresql.org/docs/13/textsearch-controls.html#TEXTSEARCH-PARSING-QUERIES\">websearch_to_tsquery</a> to parse user querytext into a valid text search query. The following syntax is supported:</p> <ul> <li>unquoted text: text not inside quote marks will be converted to terms separated by &amp; operators, as if processed by plainto_tsquery.</li> <li>&quot;quoted text&quot;: text inside quote marks will be converted to terms separated by &lt;-&gt; operators, as if processed by phraseto_tsquery.</li> <li>OR: the word or will be converted to the | operator.</li> <li>-: a dash will be converted to the ! operator.</li> </ul> <p>Other punctuation is ignored. tsquery operators, weight labels, or prefix-match labels in its input will not be recognized.</p> <p>For simple usage, you can simply supply keywords that you want the search result (i.e. record) matched.</p> <p>The full text search function will cover all field values in all aspect data, plus record id and aspect id.</p> <p>Please note: the record name field on records table will not be covered for the performance reason.</p>",
            "required": true,
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "pageToken",
            "description": "<p>A token that identifies the start of a page of results. This token should not be interpreted as having any meaning, but it can be obtained from a previous page of results.</p>",
            "required": true,
            "type": "string"
          },
          {
            "in": "query",
            "name": "reversePageTokenOrder",
            "description": "<p>When pagination via pageToken, by default, records with smaller pageToken (i.e. older records) will be returned first. When this parameter is set to <code>true</code>, higher pageToken records (newer records) will be returned.</p>",
            "required": true,
            "type": "boolean"
          },
          {
            "in": "query",
            "name": "start",
            "description": "<p>The index of the first record to retrieve. When possible, specify pageToken instead as it will result in better performance. If this parameter and pageToken are both specified, this parameter is interpreted as the index after the pageToken of the first record to retrieve.</p>",
            "required": true,
            "type": "number"
          },
          {
            "in": "query",
            "name": "limit",
            "description": "<p>The maximum number of records to receive. The response will include a token that can be passed as the pageToken parameter to a future request to continue receiving results where this query leaves off.</p>",
            "required": true,
            "type": "number"
          }
        ],
        "responses": {
          "Response:": {
            "description": "<pre>[\n      {\n          \"id\": \"string\",\n          \"name\": \"string\",\n          \"aspects\": [\n            \"string\",\n            \"string\"\n          ]\n      }\n]<pre>"
          }
        }
      }
    },
    "/v0/registry/records/summary/{id}": {
      "get": {
        "tags": [
          "Registry_Record_Service"
        ],
        "summary": "Get a summary record by ID",
        "description": "<p>Gets a summary record, including all the aspect ids for which this record has data.</p>",
        "parameters": [
          {
            "in": "query",
            "name": "id",
            "description": "<p>ID of the record to be fetched.</p>",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "Response:": {
            "description": "<pre>{\n  \"id\": \"string\",\n  \"name\": \"string\",\n  \"aspects\": [\n    \"aspect1\",\n    \"aspect2\"\n  ]\n}<pre>"
          }
        }
      }
    },
    "/v0/registry/hooks/{id}": {
      "delete": {
        "tags": [
          "Registry_Webhooks"
        ],
        "summary": "Delete a web hook",
        "description": "<p>Delete a web hook</p>",
        "parameters": [
          {
            "in": "query",
            "name": "id",
            "description": "<p>ID of the web hook to delete.</p>",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "Response:": {
            "description": "<pre>{\n  \"deleted\": true\n}<pre>"
          }
        }
      },
      "get": {
        "tags": [
          "Registry_Webhooks"
        ],
        "summary": "Get a web hook by ID",
        "description": "<p>Get a web hook by ID</p>",
        "parameters": [
          {
            "in": "query",
            "name": "id",
            "description": "<p>ID of the web hook to be fetched.</p>",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "Response:": {
            "description": "<pre>{\n  \"id\": \"string\",\n  \"name\": \"string\",\n  \"active\": true,\n  \"lastEvent\": 1232312,\n  \"url\": \"string\",\n  \"eventTypes\": [\n     \"CreateRecord\"\n  ],\n  \"isWaitingForResponse\": false,\n  \"config\": {\n    \"aspects\": [\n      \"string\"\n    ],\n    \"optionalAspects\": [\n      \"string\"\n    ],\n    \"includeEvents\": false,\n    \"includeRecords\": true,\n    \"includeAspectDefinitions\": false,\n    \"dereference\": true\n  },\n  \"enabled\": true,\n  \"lastRetryTime\": \"2018-08-29T07:04:15.711Z\",\n  \"retryCount\": 0,\n  \"isRunning\": true,\n  \"isProcessing\": true\n}<pre>"
          }
        }
      },
      "put": {
        "tags": [
          "Registry_Webhooks"
        ],
        "summary": "Modify a web hook by ID",
        "description": "<p>Modifies the web hook with a given ID. If a web hook with the ID does not yet exist, it is created.</p>",
        "parameters": [
          {
            "in": "query",
            "name": "id",
            "description": "<p>ID of the web hook to be fetched.</p>",
            "required": true,
            "type": "string"
          },
          {
            "in": "body",
            "name": "body",
            "description": "Request body",
            "required": true,
            "schema": {
              "type": "object",
              "properties": {
                "id": {
                  "type": "String",
                  "description": "<p>The ID of the webhook to be created. The ID string must be unique across the system. If no ID is provided, an UUID will be auto-created.</p>"
                },
                "name": {
                  "type": "String",
                  "description": "<p>The name of the webhook to be created.</p>"
                },
                "active": {
                  "type": "Boolean",
                  "description": "<p>Whether set the webhook to be an active one. Please note: registry will try periodically wake all inactive webhook. If you want to stop the webhook from working forever, please set the <code>enabled</code> field to <code>false</code></p>"
                },
                "enabled": {
                  "type": "Boolean",
                  "description": "<p>Whether enable the webhook. A disabled webhook will never run.</p>"
                },
                "url": {
                  "type": "String",
                  "description": "<p>specify a HTTP url where registry should send notifications to.</p>"
                },
                "config": {
                  "type": "Object",
                  "description": "<p>A webhook config object. Fields see below:</p>"
                },
                "config.includeEvents": {
                  "type": "Boolean",
                  "description": "<p>Whether include raw events in the webhook notification payload. See sample webhook notification payload below.</p>"
                },
                "config.includeRecords": {
                  "type": "Boolean",
                  "description": "<p>Whether include relevant records in the webhook notification payload. See sample webhook notification payload below.</p>"
                },
                "config.includeAspectDefinitions": {
                  "type": "Boolean",
                  "description": "<p>Whether include relevant aspect definitions in the webhook notification payload. See sample webhook notification payload below.</p>"
                },
                "config.dereference": {
                  "type": "Boolean",
                  "description": "<p>When <code>includeRecords</code> = <code>true</code>, set <code>dereference</code>=<code>true</code> will make registry automatically dereference links to other records when attach relevent records to webhook notification payload.</p>"
                },
                "config.aspects": {
                  "type": "String[]",
                  "description": "<p>When <code>includeRecords</code> = <code>true</code>, registry will only include records whose aspects have been impacted by the event according to the aspects list provided here in the webhook notification payload.</p>"
                },
                "config.optionalAspects": {
                  "type": "String[]",
                  "description": "<p>When <code>includeRecords</code> = <code>true</code>, registry will also include additional (optional) aspect data in the relevant record data in the webhook notification payload.</p>"
                },
                "eventTypes": {
                  "type": "String[]",
                  "description": "<p>specify a list of event types that the webhook's interested in. Possible values are:</p>   <ul>     <li>\"CreateRecord\"</li>     <li>\"CreateAspectDefinition\"</li>     <li>\"CreateRecordAspect\"</li>     <li>\"PatchRecord\"</li>     <li>\"PatchAspectDefinition\"</li>     <li>\"PatchRecordAspect\"</li>     <li>\"DeleteRecord\"</li>     <li>\"DeleteAspectDefinition\"</li>     <li>\"DeleteRecordAspect\"</li>   </ul>   If you are not interested in the raw events in the webhook notification payload (e.g. you set `webhook.config.includeEvents`=`false` to turn it off), you can supply empty array [] here."
                }
              },
              "required": [
                "name",
                "active",
                "enabled",
                "url",
                "config",
                "eventTypes"
              ]
            }
          }
        ],
        "responses": {
          "Successful Modify WebHook Request Response": {
            "description": "<pre>{\n  \"id\": \"string\",\n  \"name\": \"string\",\n  \"active\": true,\n  \"lastEvent\": 1232312,\n  \"url\": \"string\",\n  \"eventTypes\": [\n     \"CreateRecord\"\n  ],\n  \"isWaitingForResponse\": false,\n  \"config\": {\n    \"aspects\": [\n      \"string\"\n    ],\n    \"optionalAspects\": [\n      \"string\"\n    ],\n    \"includeEvents\": false,\n    \"includeRecords\": true,\n    \"includeAspectDefinitions\": false,\n    \"dereference\": true\n  },\n  \"enabled\": true,\n  \"lastRetryTime\": \"2018-08-29T07:04:15.711Z\",\n  \"retryCount\": 0,\n  \"isRunning\": true,\n  \"isProcessing\": true\n}<pre>"
          }
        }
      }
    },
    "/v0/registry/hooks": {
      "get": {
        "tags": [
          "Registry_Webhooks"
        ],
        "summary": "Get a list of all web hooks",
        "description": "<p>Get a list of all web hooks</p>",
        "parameters": [],
        "responses": {
          "Response:": {
            "description": "<pre>[\n {\n   \"id\": \"string\",\n   \"name\": \"string\",\n   \"active\": true,\n   \"lastEvent\": 1232312,\n   \"url\": \"string\",\n   \"eventTypes\": [\n      \"CreateRecord\"\n   ],\n   \"isWaitingForResponse\": false,\n   \"config\": {\n     \"aspects\": [\n       \"string\"\n     ],\n     \"optionalAspects\": [\n       \"string\"\n     ],\n     \"includeEvents\": false,\n     \"includeRecords\": true,\n     \"includeAspectDefinitions\": false,\n     \"dereference\": true\n   },\n   \"enabled\": true,\n   \"lastRetryTime\": \"2018-08-29T07:04:15.711Z\",\n   \"retryCount\": 0,\n   \"isRunning\": true,\n   \"isProcessing\": true\n }\n ...\n]<pre>"
          }
        }
      },
      "post": {
        "tags": [
          "Registry_Webhooks"
        ],
        "summary": "Create a new web hook",
        "description": "<p>Create a new web hook. Please note: newly created webhook will be set to receive notification after most recent events at the time when the webhook is created, rather than from the first event. Thus, the <code>lastEvent</code> field in the response will unlikely be the first event ID.</p>",
        "parameters": [
          {
            "in": "body",
            "name": "body",
            "description": "Request body",
            "required": true,
            "schema": {
              "type": "object",
              "properties": {
                "id": {
                  "type": "String",
                  "description": "<p>The ID of the webhook to be created. The ID string must be unique across the system. If no ID is provided, an UUID will be auto-created.</p>"
                },
                "name": {
                  "type": "String",
                  "description": "<p>The name of the webhook to be created.</p>"
                },
                "active": {
                  "type": "Boolean",
                  "description": "<p>Whether set the webhook to be an active one. Please note: registry will try periodically wake all inactive webhook. If you want to stop the webhook from working forever, please set the <code>enabled</code> field to <code>false</code></p>"
                },
                "enabled": {
                  "type": "Boolean",
                  "description": "<p>Whether enable the webhook. A disabled webhook will never run.</p>"
                },
                "url": {
                  "type": "String",
                  "description": "<p>specify a HTTP url where registry should send notifications to.</p>"
                },
                "config": {
                  "type": "Object",
                  "description": "<p>A webhook config object. Fields see below:</p>"
                },
                "config.includeEvents": {
                  "type": "Boolean",
                  "description": "<p>Whether include raw events in the webhook notification payload. See sample webhook notification payload below.</p>"
                },
                "config.includeRecords": {
                  "type": "Boolean",
                  "description": "<p>Whether include relevant records in the webhook notification payload. See sample webhook notification payload below.</p>"
                },
                "config.includeAspectDefinitions": {
                  "type": "Boolean",
                  "description": "<p>Whether include relevant aspect definitions in the webhook notification payload. See sample webhook notification payload below.</p>"
                },
                "config.dereference": {
                  "type": "Boolean",
                  "description": "<p>When <code>includeRecords</code> = <code>true</code>, set <code>dereference</code>=<code>true</code> will make registry automatically dereference links to other records when attach relevent records to webhook notification payload.</p>"
                },
                "config.aspects": {
                  "type": "String[]",
                  "description": "<p>When <code>includeRecords</code> = <code>true</code>, registry will only include records whose aspects have been impacted by the event according to the aspects list provided here in the webhook notification payload.</p>"
                },
                "config.optionalAspects": {
                  "type": "String[]",
                  "description": "<p>When <code>includeRecords</code> = <code>true</code>, registry will also include additional (optional) aspect data in the relevant record data in the webhook notification payload.</p>"
                },
                "eventTypes": {
                  "type": "String[]",
                  "description": "<p>specify a list of event types that the webhook's interested in. Possible values are:</p>   <ul>     <li>\"CreateRecord\"</li>     <li>\"CreateAspectDefinition\"</li>     <li>\"CreateRecordAspect\"</li>     <li>\"PatchRecord\"</li>     <li>\"PatchAspectDefinition\"</li>     <li>\"PatchRecordAspect\"</li>     <li>\"DeleteRecord\"</li>     <li>\"DeleteAspectDefinition\"</li>     <li>\"DeleteRecordAspect\"</li>   </ul>   If you are not interested in the raw events in the webhook notification payload (e.g. you set `webhook.config.includeEvents`=`false` to turn it off), you can supply empty array [] here."
                }
              },
              "required": [
                "name",
                "active",
                "enabled",
                "url",
                "config",
                "eventTypes"
              ]
            }
          }
        ],
        "responses": {
          "Successful Create WebHook Request Response": {
            "description": "<pre>{\n  \"id\": \"string\",\n  \"name\": \"string\",\n  \"active\": true,\n  \"lastEvent\": 1232312,\n  \"url\": \"string\",\n  \"eventTypes\": [\n     \"CreateRecord\"\n  ],\n  \"isWaitingForResponse\": false,\n  \"config\": {\n    \"aspects\": [\n      \"string\"\n    ],\n    \"optionalAspects\": [\n      \"string\"\n    ],\n    \"includeEvents\": false,\n    \"includeRecords\": true,\n    \"includeAspectDefinitions\": false,\n    \"dereference\": true\n  },\n  \"enabled\": true,\n  \"lastRetryTime\": \"2018-08-29T07:04:15.711Z\",\n  \"retryCount\": 0,\n  \"isRunning\": true,\n  \"isProcessing\": true\n}<pre>"
          }
        }
      }
    },
    "http://some-remote-host/webhook-notification-recipient-endpoint": {
      "post": {
        "tags": [
          "Registry_Webhooks"
        ],
        "summary": "Webhook Notification Recipient Endpoint",
        "description": "<p>Once a remote host register an endpoint <code>url</code> as webhook via Registry <code>Create a new web hook</code> API (see the API doc in this section), registry will send notifications as HTTP POST request when any new events are generated in the system. This section specify the expected notifcation request payload from registry and possible responses from the <code>Webhook Notification Recipient</code>.</p>",
        "parameters": [
          {
            "in": "body",
            "name": "body",
            "description": "Request body",
            "required": true,
            "schema": {
              "type": "object",
              "properties": {
                "action": {
                  "type": "String",
                  "description": "<p>The webhook action. Currently, will always be fixed string &quot;records.changed&quot;.</p>"
                },
                "lastEventId": {
                  "type": "Number",
                  "description": "<p>the id of last event included in this notification.</p>"
                },
                "events": {
                  "type": "Object[]",
                  "description": "<p>A array of raw events. Only available when webhook config <code>includeEvents</code> field is set to <code>true</code> when create webhook.</p>"
                },
                "events.id": {
                  "type": "Number",
                  "description": "<p>The id of the event.</p>"
                },
                "events.eventTime": {
                  "type": "String",
                  "description": "<p>The time stamp of the event. e.g. <code>2018-01-16T09:01:40.776Z</code></p>"
                },
                "events.eventType": {
                  "type": "String",
                  "description": "<p>The type of the event.</p>"
                },
                "events.userId": {
                  "type": "String",
                  "description": "<p>The id of the user whose action triggered the event.</p>"
                },
                "events.data": {
                  "type": "Object",
                  "description": "<p>The event data. The type of event data depends on event type. Generally, if it's a &quot;Create&quot; type event, the data will be the data of the record or aspect. If it's a &quot;Patch&quot; (i.e. Update) type event, the data will be <a href=\"http://jsonpatch.com/\">jsonpatch</a> format to specify the changes. If it's a &quot;Delete&quot; type event, the data will be id of the record (or aspect) to be impacted.</p>"
                },
                "events.tenantId": {
                  "type": "Number",
                  "description": "<p>The tenant id of the event. Unless multi-tenant feature is turned on, the value of this field will always be <code>0</code>.</p>"
                },
                "records": {
                  "type": "Object[]",
                  "description": "<p>A array of relevant records. Only available when webhook config <code>includeRecords</code> field is set to <code>true</code> when create webhook.</p>"
                },
                "records.id": {
                  "type": "String",
                  "description": "<p>The id of the record.</p>"
                },
                "records.name": {
                  "type": "String",
                  "description": "<p>The name of the record.</p>"
                },
                "records.aspects": {
                  "type": "Object",
                  "description": "<p>An object contains the record's aspects data. The keys of the object will be IDs of aspects.</p>"
                },
                "records.sourceTag": {
                  "type": "String",
                  "description": "<p>A tag representing the action by the source of this record. (e.g. an id for a individual crawl of a data portal).</p>"
                },
                "records.tenantId": {
                  "type": "String",
                  "description": "<p>The tenant id of the event. Unless multi-tenant feature is turned on, the value of this field will always be <code>0</code>.</p>"
                },
                "aspectDefinitions": {
                  "type": "Object[]",
                  "description": "<p>A array of relevant aspect definitions. Only available when webhook config <code>includeAspectDefinitions</code> field is set to <code>true</code> when create webhook.</p>"
                },
                "aspectDefinitions.id": {
                  "type": "String",
                  "description": "<p>The ID of the aspect.</p>"
                },
                "aspectDefinitions.name": {
                  "type": "String",
                  "description": "<p>The name of the aspect.</p>"
                },
                "aspectDefinitions.jsonSchema": {
                  "type": "Object",
                  "description": "<p>JSON schema that used to validate aspect data.</p>"
                },
                "deferredResponseUrl": {
                  "type": "String",
                  "description": "<p>An URL that can be used by <code>Webhook Notification Recipient</code> to acknowledge the completion of notification processing at later time. If the <code>Webhook Notification Recipient</code> decides to do so, he needs to respond <code>201</code> status code and JSON data <code>{status: &quot;Working&quot;, deferResponse: true}</code> to defer the response. Also see <code>Acknowledge a previously-deferred web hook</code> API in this section.</p>"
                }
              },
              "required": [
                "action",
                "lastEventId",
                "events.id",
                "events.eventTime",
                "events.eventType",
                "events.data",
                "events.tenantId",
                "records.id",
                "records.name",
                "records.aspects",
                "records.sourceTag",
                "records.tenantId",
                "aspectDefinitions.id",
                "aspectDefinitions.name",
                "aspectDefinitions.jsonSchema",
                "deferredResponseUrl"
              ]
            }
          }
        ],
        "responses": {
          "Response Without Defer": {
            "description": "<pre>{\n  \"status\": \"Received\",\n  \"deferResponse\": false\n}<pre>"
          },
          "Error Response": {
            "description": "<pre>{\n  \"status\": \"Error\",\n  \"deferResponse\": false\n}<pre>"
          }
        }
      }
    },
    "/v0/registry/hooks/{id}/ack": {
      "post": {
        "tags": [
          "Registry_Webhooks"
        ],
        "summary": "Acknowledge a previously-deferred web hook",
        "description": "<p>Acknowledges a previously-deferred web hook with a given ID. Acknowledging a previously-POSTed web hook notificaiton will cause the next, if any, to be sent. <code>Webhook Notification Recipient</code> only need to request this endpoint when he previously deferred the response for a web hook notificaiton.</p>",
        "parameters": [
          {
            "in": "query",
            "name": "id",
            "description": "<p>the ID of the web hook to be acknowledged.</p>",
            "required": true,
            "type": "String"
          },
          {
            "in": "body",
            "name": "body",
            "description": "Request body",
            "required": true,
            "schema": {
              "type": "object",
              "properties": {
                "succeeded": {
                  "type": "Boolean",
                  "description": "<p>Whether the web hook notification was processed successfully and the <code>Webhook Notification Recipient</code> is ready for further notifications. <code>false</code> indicates the web hook notification was processed unsuccessfully, the same notification will be repeated.</p>"
                },
                "lastEventIdReceived": {
                  "type": "Number",
                  "description": "<p>The ID of the last event received by the <code>Webhook Notification Recipient</code>. This should be the value of the <code>lastEventId</code> property of the web hook notification payload that is being acknowledged.  This value is ignored if <code>succeeded</code> is <code>false</code>.</p>"
                },
                "active": {
                  "type": "Boolean",
                  "description": "<p>Should the status of webhook be changed to <code>active</code> or <code>inactive</code>. <code>Webhook Notification Recipient</code> normally only want to set this field when the previous processing was failed and want registry pause the notification delivery for a while. Please note: an inactive web hook will be waken up after certain amount of time (By default: 1 hour). This can be configured by registry <code>webhooks.retryInterval</code> option. When the parameter is <code>true</code>, the registry will: 1&gt; set webhook to active (if not active already) 2&gt; clear all running statics (e.g. <code>retrycount</code>) However, registry will not attempt to enable the webhook if it's disabled (<code>enable</code>=false) in database previously. When <code>succeeded</code>=<code>true</code>, we will assume the value of <code>active</code> is true` when it's not specified.</p>"
                }
              },
              "required": [
                "succeeded"
              ]
            }
          }
        ],
        "responses": {
          "Sample Success Response": {
            "description": "<pre>{\n  \"lastEventIdReceived\": 123423\n}<pre>"
          }
        }
      }
    },
    "/v0/search/autoComplete": {
      "get": {
        "tags": [
          "Search"
        ],
        "summary": "Generate a suggestion list of a dataset field",
        "description": "<p>Returns a suggestion list based on text content of a specified dataset field</p>",
        "parameters": [
          {
            "in": "query",
            "name": "field",
            "description": "<p>which field will be used to generate the suggestion list; e.g. accessNotes.notes</p>",
            "required": false,
            "type": "string"
          },
          {
            "in": "query",
            "name": "inputString",
            "description": "<p>full text input</p>",
            "required": false,
            "type": "string"
          },
          {
            "in": "query",
            "name": "limit",
            "description": "<p>number of suggestion items to return; If larger than 100, will be capped at 100</p>",
            "required": false,
            "type": "number"
          }
        ],
        "responses": {
          "200": {
            "description": "<pre>{\n    \"inputString\": \"asdd\",\n    \"suggestions\": [\n        \"asdd sddsds\",\n        \"asdd ssd sddssd\",\n        \"asdd sdds\",\n        ...\n   ]\n}<pre>"
          }
        }
      }
    },
    "/v0/search/datasets": {
      "get": {
        "tags": [
          "Search"
        ],
        "summary": "Search Datasets",
        "description": "<p>Returns a list of results.</p>",
        "parameters": [
          {
            "in": "query",
            "name": "query",
            "description": "<p>full text search query</p>",
            "required": false,
            "type": "string"
          },
          {
            "in": "query",
            "name": "start",
            "description": "<p>index of first result to return</p>",
            "required": false,
            "type": "number"
          },
          {
            "in": "query",
            "name": "limit",
            "description": "<p>number of results to return</p>",
            "required": false,
            "type": "number"
          },
          {
            "in": "query",
            "name": "facetSize",
            "description": "<p>number of facets to return</p>",
            "required": false,
            "type": "number"
          },
          {
            "in": "query",
            "name": "publisher",
            "description": "<p>filter search query by names of organisations</p>",
            "required": false,
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "dateFrom",
            "description": "<p>filter datasets by start date of dataset coverage</p>",
            "required": false,
            "type": "string"
          },
          {
            "in": "query",
            "name": "dateTo",
            "description": "<p>filter datasets by end date of dataset coverage</p>",
            "required": false,
            "type": "string"
          },
          {
            "in": "query",
            "name": "region",
            "description": "<p>filter datasets by regions</p>",
            "required": false,
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "format",
            "description": "<p>filter datasets by formats</p>",
            "required": false,
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "<pre>{\n    \"hitCount\": 948,\n    \"dataSets\": [\n        {\n            \"quality\": 0.6,\n            \"catalog\": \"CSIRO\",\n            \"identifier\": \"...\",\n            \"spatial\": {\n                \"text\": \"Australia\"\n            },\n            \"description\": \"...\",\n            \"indexed\": \"2018-07-13T05:29:03.534Z\",\n            \"landingPage\": \"https://data.gov.au/dataset/...\",\n            \"modified\": \"2017-06-13T05:31:57Z\",\n            \"issued\": \"2017-01-23T22:04:30Z\",\n            \"contactPoint\": { \"identifier\": \"someone@government.gov.au\" },\n            \"languages\": [ \"English\" ],\n            \"temporal\": {\n                \"start\": {\n                    \"text\": \"2016-01-01\"\n                }\n            },\n            \"distributions\": [\n                {\n                    \"format\": \"ESRI REST\",\n                    \"downloadURL\": \"...\",\n                    \"identifier\": \"...\",\n                    \"description\": \"...\",\n                    \"modified\": \"2017-01-24T...\",\n                    \"license\": {...},\n                    \"issued\": \"...\",\n                    \"title\": \"...\"\n                },\n                ...\n            ],\n            publisher\": {\n                \"acronym\": \"..\",\n                \"name\": \"...\",\n                \"identifier\": \"org-...\",\n                \"description\": \"...\",\n                \"imageUrl\": \"...\"\n            },\n            \"keywords\": [ \"Cycling\", ... ],\n            \"title\": \"...\",\n            \"themes\": []\n            ...\n        },\n        ...\n   ],\n   \"query\": {\n       ...\n   },\n   \"temporal\": {\n       ...\n   },\n   \"strategy\": \"...\",\n   ,\n   \"facets\": [\n       ...\n   ]\n}<pre>"
          }
        }
      }
    },
    "/v0/search/datasets/facets": {
      "get": {
        "tags": [
          "Search"
        ],
        "summary": "Search Datasets Return Facets",
        "description": "<p>Returns the facets part of dataset search. For more details, see Search Datasets and Get Facet Options.</p>",
        "parameters": [],
        "responses": {
          "200": {
            "description": "<pre>See Search Datasets and Get Facet Options.<pre>"
          }
        }
      }
    },
    "/v0/search/facets/:facetId/options": {
      "get": {
        "tags": [
          "Search"
        ],
        "summary": "Get Facet Options",
        "description": "<p>Returns a list facet options by facet id.</p>",
        "parameters": [
          {
            "in": "query",
            "name": "facetId",
            "description": "<p>id of facet</p>",
            "required": true,
            "type": "string"
          },
          {
            "in": "query",
            "name": "facetQuery",
            "description": "<p>full text search query to search within facets</p>",
            "required": false,
            "type": "string"
          },
          {
            "in": "query",
            "name": "start",
            "description": "<p>index of first result to return</p>",
            "required": false,
            "type": "number"
          },
          {
            "in": "query",
            "name": "limit",
            "description": "<p>number of results to return</p>",
            "required": false,
            "type": "number"
          },
          {
            "in": "query",
            "name": "generalQuery",
            "description": "<p>full text search query to search within datasets</p>",
            "required": false,
            "type": "string"
          },
          {
            "in": "query",
            "name": "publisher",
            "description": "<p>filter search query by names of organisations</p>",
            "required": false,
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "dateFrom",
            "description": "<p>filter datasets by start date of dataset coverage</p>",
            "required": false,
            "type": "string"
          },
          {
            "in": "query",
            "name": "dateTo",
            "description": "<p>filter datasets by end date of dataset coverage</p>",
            "required": false,
            "type": "string"
          },
          {
            "in": "query",
            "name": "region",
            "description": "<p>filter datasets by regions</p>",
            "required": false,
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "format",
            "description": "<p>filter datasets by formats</p>",
            "required": false,
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "<pre>{\n    \"hitCount\": 948,\n    \"options\": [\n        {\n            \"identifier\": \"...\",\n            \"value\": \"...\",\n            \"hitCount\": 0,\n            \"matched\": false\n        },\n        ...\n   ]\n}<pre>"
          }
        }
      }
    },
    "/v0/search/organisations": {
      "get": {
        "tags": [
          "Search"
        ],
        "summary": "Search Organisations",
        "description": "<p>Returns a list of results.</p>",
        "parameters": [
          {
            "in": "query",
            "name": "query",
            "description": "<p>full text search query</p>",
            "required": false,
            "type": "string"
          },
          {
            "in": "query",
            "name": "start",
            "description": "<p>index of first result to return</p>",
            "required": false,
            "type": "number"
          },
          {
            "in": "query",
            "name": "limit",
            "description": "<p>number of results to return</p>",
            "required": false,
            "type": "number"
          }
        ],
        "responses": {
          "200": {
            "description": "<pre>{\n    \"hitCount\": 948,\n    \"organisations\": [\n        {\n            \"acronym\": \"...\",\n            \"name\": \"...\",\n            \"email\": \"...@...\",\n            \"identifier\": \"...\",\n            \"addrState\": \"...\",\n            \"datasetCount\": 2,\n            \"addrSuburb\": \"...\",\n            \"addrStreet\": \"...\",\n            \"addrPostCode\": \"...\",\n            \"phone\": \"...\",\n            \"addrCountry\": \"Australia\"\n        },\n        ...\n   ]\n}<pre>"
          }
        }
      }
    },
    "/v0/search/region-types": {
      "get": {
        "tags": [
          "Search"
        ],
        "summary": "Get Region Types",
        "description": "<p>Returns a list of region types</p>",
        "parameters": [],
        "responses": {
          "200": {
            "description": "<pre>{\n    \"comments\": \"...\",\n    \"regionWmsMap\": {\n        \"STE\": {\n            \"layerName\": \"FID_STE_2011_AUST\",\n            \"server\": \"https://vector-tiles.terria.io/FID_STE_2011_AUST/{z}/{x}/{y}.pbf\",\n            \"regionProp\": \"STE_CODE11\",\n            ...\n        },\n        ...\n    }\n}<pre>"
          }
        }
      }
    },
    "/v0/search/regions": {
      "get": {
        "tags": [
          "Search"
        ],
        "summary": "Get Regions",
        "description": "<p>Returns a list of regions</p>",
        "parameters": [
          {
            "in": "query",
            "name": "regionId",
            "description": "<p>filter by regionId field</p>",
            "required": false,
            "type": "number"
          },
          {
            "in": "query",
            "name": "type",
            "description": "<p>filter by regionType field</p>",
            "required": false,
            "type": "number"
          },
          {
            "in": "query",
            "name": "lv1Id",
            "description": "<p>filter by level 1 region Id</p>",
            "required": false,
            "type": "number"
          },
          {
            "in": "query",
            "name": "lv2Id",
            "description": "<p>filter by level 2 region Id</p>",
            "required": false,
            "type": "number"
          },
          {
            "in": "query",
            "name": "lv3Id",
            "description": "<p>filter by level 3 region Id</p>",
            "required": false,
            "type": "number"
          },
          {
            "in": "query",
            "name": "lv4Id",
            "description": "<p>filter by level 4 region Id</p>",
            "required": false,
            "type": "number"
          },
          {
            "in": "query",
            "name": "lv5Id",
            "description": "<p>filter by level 5 region Id</p>",
            "required": false,
            "type": "number"
          },
          {
            "in": "query",
            "name": "start",
            "description": "<p>index of first item to return</p>",
            "required": false,
            "type": "number"
          },
          {
            "in": "query",
            "name": "limit",
            "description": "<p>number of items to return</p>",
            "required": false,
            "type": "number"
          }
        ],
        "responses": {
          "200": {
            "description": "<pre>{\n    \"hitCount\": 0,\n    \"regions\": []\n}<pre>"
          }
        }
      }
    },
    "/sitemap/dataset/afterToken/{pageToken}.xml": {
      "get": {
        "tags": [
          "Sitemaps"
        ],
        "summary": "Sitemaps index entry for datasets",
        "description": "<p>The sitemaps entrypoint <code>/sitemap.xml</code> contains links to all index entries for datasets (paginated by the <code>pageToken</code> parameter). Each index entry contains a list of dataset page links. You can either visit the dataset page directly (A text based SEO friendly view will be shown if the <code>User-Agent</code> request header is <a href=\"https://github.com/magda-io/magda/blob/main/magda-web-server/src/shouldRenderCrawlerView.ts#L20\">recognised as search engine bot</a>). Or extract the dataset ID from the dataset page link and access the detailed metadata in JSON format via the <a href=\"#api-Registry_Record_Service-GetV0RegistryRecordsId\">registry get a record by ID API</a>.</p>",
        "parameters": [],
        "responses": {
          "200": {
            "description": "<pre><?xml version=\"1.0\" encoding=\"UTF-8\"?>\n  <urlset xmlns=\"http://www.sitemaps.org/schemas/sitemap/0.9\" xmlns:news=\"http://www.google.com/schemas/sitemap-news/0.9\" xmlns:xhtml=\"http://www.w3.org/1999/xhtml\" xmlns:image=\"http://www.google.com/schemas/sitemap-image/1.1\" xmlns:video=\"http://www.google.com/schemas/sitemap-video/1.1\">\n      <url>\n          <loc>https://example.com/dataset/ds-a3d075b9-70d7-40b3-a693-70db2a415765</loc>\n          <changefreq>weekly</changefreq>\n      </url>\n  </urlset><pre>"
          }
        }
      }
    },
    "/sitemap/main.xml": {
      "get": {
        "tags": [
          "Sitemaps"
        ],
        "summary": "Sitemaps index entry for the home page",
        "description": "<p>Sitemaps index entry for the home page</p>",
        "parameters": [],
        "responses": {
          "200": {
            "description": "<pre><?xml version=\"1.0\" encoding=\"UTF-8\"?>\n  <urlset xmlns=\"http://www.sitemaps.org/schemas/sitemap/0.9\" xmlns:news=\"http://www.google.com/schemas/sitemap-news/0.9\" xmlns:xhtml=\"http://www.w3.org/1999/xhtml\" xmlns:image=\"http://www.google.com/schemas/sitemap-image/1.1\" xmlns:video=\"http://www.google.com/schemas/sitemap-video/1.1\">\n      <url>\n          <loc>https://example.com/</loc>\n          <changefreq>daily</changefreq>\n      </url>\n  </urlset><pre>"
          }
        }
      }
    },
    "/sitemap.xml": {
      "get": {
        "tags": [
          "Sitemaps"
        ],
        "summary": "Sitemaps entrypoint",
        "description": "<p>A <a href=\"https://www.sitemaps.org/protocol.html\">sitemaps protocol interface</a> that is prepared for external search engines to harvest datasets from Magda. The sitemap index is produced based on the live data in the metadata store database. By default, the sitemap index will be cached for 86400 seconds (24 hours). This setting can be adjusted via <code>sitemapCacheSeconds</code> of <a href=\"https://github.com/magda-io/magda/tree/main/deploy/helm/internal-charts/web-server\">web-server</a> module helm chart. Please note: 1&gt; due to the cache and the search engine indexing delay, the total number of datasets in the sitemap index may be different from the dataset total count from the search API. 2&gt; This sitemaps endpoint is recorded on the default /robots.txt endpoint that follows the <a href=\"https://en.wikipedia.org/wiki/Robots_exclusion_standard#About_the_standard\">Robots Exclusion Standard</a>. 3&gt; Only public datasets are included in the sitemaps. In fact, the sitemaps index is generated with anonymous user access.</p>",
        "parameters": [],
        "responses": {
          "200": {
            "description": "<pre><?xml version=\"1.0\" encoding=\"UTF-8\"?>\n  <sitemapindex xmlns=\"http://www.sitemaps.org/schemas/sitemap/0.9\">\n      <sitemap>\n          <loc>https://example.com/sitemap/main.xml</loc>\n      </sitemap>\n      <sitemap>\n          <loc>https://example.com/sitemap/dataset/afterToken/0.xml</loc>\n      </sitemap>\n   </sitemapindex><pre>"
          }
        }
      }
    },
    "/v0/storage/{bucket}/{filePath}": {
      "delete": {
        "tags": [
          "Storage"
        ],
        "summary": "Request to delete an object at {bucket} with path {filePath}",
        "description": "<p>Deletes an object. This is a hard delete, and cannot be undone. Please note: Besides users have <code>storage/object/delete</code> permission, a user also has access to a file when:</p> <ul> <li>the file is associated with a record</li> <li>the user has <code>object/record/delete</code> permission to an existing record.</li> </ul>",
        "parameters": [
          {
            "in": "query",
            "name": "bucket",
            "description": "<p>The name of the bucket where the object resides</p>",
            "required": true,
            "type": "string"
          },
          {
            "in": "query",
            "name": "filePath",
            "description": "<p>The name of the object to be deleted</p>",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "<pre>{\n    // when `false`, indicate the storage object doesn't exist. Thus, no need for deletion.\n    \"deleted\": true\n}<pre>"
          },
          "500": {
            "description": "<pre>{\n    \"message\": \"Encountered error while deleting file. This has been logged and we are looking into this.\"\n}<pre>"
          }
        }
      }
    },
    "/v0/storage/{bucket}/{path}": {
      "get": {
        "tags": [
          "Storage"
        ],
        "summary": "Request to download an object in {bucket} at path {path}",
        "description": "<p>Downloads an object Please note: Besides users have <code>storage/object/read</code> permission, a user also has access to a file when:</p> <ul> <li>the file is associated with a record</li> <li>the user has <code>object/record/read</code> permission to an existing record.</li> </ul>",
        "parameters": [
          {
            "in": "query",
            "name": "bucket",
            "description": "<p>The name of the bucket under which the requested object is</p>",
            "required": true,
            "type": "string"
          },
          {
            "in": "query",
            "name": "path",
            "description": "<p>The name of the object being requested</p>",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "<pre><Contents of a file><pre>"
          },
          "404": {
            "description": "<pre>\"No such object with path {path} in bucket {bucket}\"<pre>"
          },
          "500": {
            "description": "<pre>\"Unknown error\"<pre>"
          }
        }
      }
    },
    "/v0/storage/upload/{bucket}/{path}": {
      "post": {
        "tags": [
          "Storage"
        ],
        "summary": "Request to upload a file to {bucket}, in the directory {path}",
        "description": "<p>Uploads a object (file) as &quot;form post&quot; Please note: Besides users have <code>storage/object/upload</code> permission, a user also has access to a file when:</p> <ul> <li>the file is associated with a record</li> <li>the user has <code>object/record/update</code> or <code>object/record/create</code> permission to an existing record.</li> </ul>",
        "parameters": [
          {
            "in": "body",
            "name": "body",
            "description": "Request body",
            "required": true,
            "schema": {
              "type": "object",
              "properties": {
                "a": {
                  "type": "File[]",
                  "description": "<p>list of file attachment. Please note: we only allow one file to be uploaded for one API call</p>"
                }
              },
              "required": [
                "a"
              ]
            }
          },
          {
            "in": "query",
            "name": "bucket",
            "description": "<p>The name of the bucket to which to upload to</p>",
            "required": true,
            "type": "string"
          },
          {
            "in": "query",
            "name": "path",
            "description": "<p>The path in the bucket to put the file in</p>",
            "required": true,
            "type": "string"
          },
          {
            "in": "body",
            "name": "body",
            "description": "Request body",
            "required": true,
            "schema": {
              "type": "object",
              "properties": {
                "a": {
                  "type": "File[]",
                  "description": "<p>list of file attachment. Please note: we only allow one file to be uploaded for one API call</p>"
                }
              },
              "required": [
                "a"
              ]
            }
          },
          {
            "in": "query",
            "name": "recordId",
            "description": "<p>A record id to associate this file with - a user will only be allowed to access this file if they're also allowed to access the associated record. Should be url encoded.</p>",
            "required": true,
            "type": "string"
          },
          {
            "in": "body",
            "name": "body",
            "description": "Request body",
            "required": true,
            "schema": {
              "type": "object",
              "properties": {
                "a": {
                  "type": "File[]",
                  "description": "<p>list of file attachment. Please note: we only allow one file to be uploaded for one API call</p>"
                }
              },
              "required": [
                "a"
              ]
            }
          }
        ],
        "responses": {
          "500": {
            "description": "<pre>Internal server error.<pre>"
          },
          "200 Successfully uploaded 2 files.": {
            "description": "<pre>{\n     \"etag\": \"cafbab71cd98120b777799598f0d4808-1\",\n     \"versionId\": \"xxx-xxx-323x-xx-xx33\"\n}<pre>"
          }
        }
      }
    },
    "/v0/storage/{bucket}/{filePath}?{recordId}": {
      "put": {
        "tags": [
          "Storage"
        ],
        "summary": "Request to upload an object to {bucket} with name {filePath}",
        "description": "<p>Uploads an object. Please note: Besides users have <code>storage/object/upload</code> permission, a user also has access to a file when:</p> <ul> <li>the file is associated with a record</li> <li>the user has <code>object/record/update</code> or <code>object/record/create</code> permission to an existing record.</li> </ul>",
        "parameters": [
          {
            "in": "query",
            "name": "bucket",
            "description": "<p>The name of the bucket to which to upload to</p>",
            "required": true,
            "type": "string"
          },
          {
            "in": "query",
            "name": "filePath",
            "description": "<p>The path of the file to delete</p>",
            "required": true,
            "type": "string"
          },
          {
            "in": "query",
            "name": "recordId",
            "description": "<p>A record id to associate this file with - a user will only be allowed to access this file if they're also allowed to access the associated record. Should be url encoded.</p>",
            "required": true,
            "type": "string"
          },
          {
            "in": "query",
            "name": "orgUnitId",
            "description": "<p>(Optional) The id of the orgUnit that the bucket belongs to.</p>",
            "required": false,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "<pre>{\n    \"message\":\"File uploaded successfully\",\n    \"etag\":\"edd88378a7900bf663a5fa386386b585-1\",\n    \"versionId\": \"xxxxxxxx\"\n}<pre>"
          },
          "400": {
            "description": "<pre>{\n    \"message\":\"No content.\",\n}<pre>"
          },
          "500": {
            "description": "<pre>{\n    \"message\":\"Encountered error while uploading file. This has been logged and we are looking into this.\"\n}<pre>"
          }
        }
      }
    },
    "/v0/storage/buckets/{bucketid}": {
      "PUT": {
        "tags": [
          "Storage"
        ],
        "summary": "Request to create a new bucket",
        "description": "<p>Creates a new bucket with a specified name.</p>",
        "parameters": [
          {
            "in": "query",
            "name": "bucketid",
            "description": "<p>The name of the bucket to be created</p>",
            "required": true,
            "type": "string"
          },
          {
            "in": "body",
            "name": "body",
            "description": "Request body",
            "required": true,
            "schema": {
              "type": "object",
              "properties": {
                "orgUnitId": {
                  "type": "string",
                  "description": "<p>(Optional) The id of the orgUnit that the bucket belongs to.</p>"
                }
              }
            }
          }
        ],
        "responses": {
          "201": {
            "description": "<pre>{\n    \"message\": \"Bucket my-bucket already exists \"\n}<pre>"
          },
          "500": {
            "description": "<pre>{\n    \"message\": \"Bucket creation failed. This has been logged and we are looking into this.\"\n}<pre>"
          }
        }
      }
    },
    "/v0/tenant/tenants": {
      "get": {
        "tags": [
          "Tenants"
        ],
        "summary": "Get the list of all tenants",
        "description": "<p>Get the list of all tenants You need have <code>object/tenant/read</code> permission to access this API.</p> <blockquote> <p>Please note: multi-tenancy are still an experimental feature. API might changes largely over the time.</p> </blockquote>",
        "parameters": [],
        "responses": {
          "200": {
            "description": "<pre>[{\n   \"domainname\": \"example.com\",\n   \"id\": \"6\",\n   \"enabled\": true\n}]<pre>"
          },
          "401/500": {
            "description": "<pre>{\n  \"isError\": true,\n  \"errorCode\": 401, //--- or 500 depends on error type\n  \"errorMessage\": \"Not authorized\"\n}<pre>"
          }
        }
      },
      "post": {
        "tags": [
          "Tenants"
        ],
        "summary": "Create a new tenant",
        "description": "<p>Create a new tenant You need have <code>object/tenant/create</code> permission to access this API.</p> <blockquote> <p>Please note: multi-tenancy are still an experimental feature. API might changes largely over the time.</p> </blockquote>",
        "parameters": [
          {
            "in": "body",
            "name": "body",
            "description": "Request body",
            "required": true,
            "schema": {
              "type": "object",
              "properties": {
                "domainname": {
                  "type": "string",
                  "description": "<p>the domain name serves the tenant.</p>"
                },
                "enabled": {
                  "type": "boolean",
                  "description": "<p>Default to <code>true</code>.</p>"
                }
              },
              "required": [
                "domainname"
              ]
            }
          }
        ],
        "responses": {
          "200": {
            "description": "<pre>{\n   \"domainname\": \"example.com\",\n   \"id\": \"6\",\n   \"enabled\": true\n}<pre>"
          },
          "401/500": {
            "description": "<pre>{\n  \"isError\": true,\n  \"errorCode\": 401, //--- or 500 depends on error type\n  \"errorMessage\": \"Not authorized\"\n}<pre>"
          }
        }
      }
    }
  }
}